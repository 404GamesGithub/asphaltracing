"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9427],{50644:(e,t,n)=>{n.d(t,{Q:()=>S});var r,a,i=n(87363),o=n.n(i),l=n(9579),c=n(72853);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}const s=e=>i.createElement("svg",u({fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 11.292h14a1 1 0 1 1 0 2H5z",clipRule:"evenodd"})),a||(a=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 19.293a1 1 0 0 1-1.414 0l-7-7 7-7A1 1 0 1 1 12 6.707l-5.586 5.586L12 17.879a1 1 0 0 1 0 1.414",clipRule:"evenodd"})));var d,f;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}const p=e=>i.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),d||(d=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 13.208H5a1 1 180 1 1 0-2h14z",clipRule:"evenodd"})),f||(f=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 5.207a1 1 180 0 1 1.414 0l7 7-7 7A1 1 180 1 1 12 17.793l5.586-5.586L12 6.621a1 1 180 0 1 0-1.414",clipRule:"evenodd"})));var v;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}const g=e=>i.createElement("svg",h({fill:"none",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),v||(v=i.createElement("path",{fill:"currentColor",d:"m11.232 14.005 8.382 8.388a1.75 1.75 0 0 1-2.476 2.474L7.52 15.242a1.75 1.75 0 0 1 0-2.474l9.618-9.625a1.75 1.75 0 0 1 2.476 2.474z"})));var w;function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}const y=e=>i.createElement("svg",b({fill:"none",viewBox:"0 0 28 29",xmlns:"http://www.w3.org/2000/svg"},e),w||(w=i.createElement("path",{fill:"currentColor",d:"m16.777 14.905-8.382 8.388a1.75 1.75 0 1 0 2.476 2.474l9.618-9.625a1.75 1.75 0 0 0 0-2.474l-9.618-9.625a1.75 1.75 0 0 0-2.476 2.474z"})));var E=n(6783);const k={button:"floatButton-critical-module__button--CQIyI clickableElement-module__clickableElement--VFi7q",icon:"floatButton-critical-module__icon--cpcl2","icon-left-offset":"floatButton-critical-module__icon-left-offset--S0DP4","icon-right-offset":"floatButton-critical-module__icon-right-offset--BrvSN"},x={left:o().createElement(g,null),right:o().createElement(y,null)},C={left:o().createElement(s,null),right:o().createElement(p,null)},_=(0,i.forwardRef)((({alt:e,className:t,onClick:n,direction:r,"data-testid":a},u)=>{const s=(0,i.useCallback)((e=>{navigator.userAgent.match(/safari/i)&&e.preventDefault()}),[]),{floatButton:{arrowType:d}}=(0,E.P)(),f="short"===d,m=f?x:C;return o().createElement("button",{className:(0,l.y)(t,k.button),"data-testid":a,ref:u,title:e,onClick:n,onMouseDown:s},o().createElement(c.Z,{alt:e,className:(0,l.y)(k.icon,f&&k[`icon-${r}-offset`]),size:f?28:24},m[r]))}));_.displayName="FloatButton";const S=(0,i.memo)(_)},49257:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(87363),a=n.n(r),i=n(95100),o=n(50644);const l="Carousel-critical-catalog-module__arrowButton--AV10Z",c="Carousel-critical-catalog-module__arrowButtonRow--MTqv8",u="Carousel-critical-catalog-module__arrowButtonColumn--CqQUJ";function s(e,t,n){return"vertical"!==e&&n?"prev"===t?"right":"left":"prev"===t?"left":"right"}var d=n(40184),f=n(11510),m=n(94671);const p={32:"Carousel-critical-catalog-module__arrowButton32--Jqn6l",40:"Carousel-critical-catalog-module__arrowButton40--SZdpY"},v=({arrowsSize:e=32,direction:t,hasArrowsTopOffset:n,onNext:i,onPrev:v,sliderInstance:h})=>{const{rtl:g}=(0,d.b)(),[w,b]=(0,r.useState)(!1),[y,E]=(0,r.useState)(!1),k=(0,f.T)();(0,r.useEffect)((()=>{if(!h.current)return;const e=h.current,t=e=>{const{track:t}=e;b(t.details.abs>0),E(t.details.abs!==t.details.maxIdx)};return t(e),e.on("detailsChanged",t),()=>{e.on("detailsChanged",t,!0)}}),[h]);const x=s(t,"prev",g),C=s(t,"next",g);return a().createElement(a().Fragment,null,w&&a().createElement(o.Q,{alt:k(`common.scroll.${x}`),className:(0,m.E)(l,n&&"arrowTopOffset",p[e],"Carousel-critical-catalog-module__arrowPrev--EY0D_","vertical"===t?u:c),direction:x,onClick:v}),y&&a().createElement(o.Q,{alt:k(`common.scroll.${C}`),className:(0,m.E)(l,n&&"arrowTopOffset",p[e],"Carousel-critical-catalog-module__arrowNext--xPqqS","vertical"===t?u:c),direction:C,onClick:i}))},h=e=>{let t,n,r;function a(t,r){n.x-=t.deltaX/2,n.y-=t.deltaY/2,e.container.dispatchEvent(new CustomEvent(r,{detail:{x:n.x,y:n.y}}))}function i(i){const o=0===i.deltaX||Math.abs(i.deltaX/i.deltaY)<.1;e.options.vertical===o&&(i.preventDefault(),r||(r=!0,n={x:i.pageX,y:i.pageY},a(i,"ksDragStart")),a(i,"ksDrag"),window.clearTimeout(t),t=window.setTimeout((()=>{r=!1,a(i,"ksDragEnd")}),200))}e.on("created",(()=>{e.container.addEventListener("wheel",i,{passive:!1})})),e.on("destroyed",(()=>{e.container.removeEventListener("wheel",i)}))};var g=n(71487),w=n(5901),b=n(98343),y=n(69977);const E="carouselInit",k=(e,t)=>{const n=e.options.slides;return"object"==typeof n&&"number"==typeof(null==n?void 0:n.perView)?n.perView:t},x=(0,r.forwardRef)((({arrowsSize:e=32,breakpoints:t,clickDaemonParams:n,children:o,className:l,direction:c="vertical",hasArrowsTopOffset:u,onAnimationEnded:s,onAnimationStarted:f,onAnimationStopped:p,onDragEnded:x,onDragStarted:C,onItemActive:_,onNextClick:S,onPrevClick:M,slidesPerView:T=3,spaceBetween:I=16,withArrows:O=!0,wrapperClassName:z},A)=>{const N=void 0!==n,D=(e=>{const t=(0,w.$)(e),n=(0,g.P)(t,2e3);return(0,r.useCallback)((()=>{n({action:{name:b.zx.CAROUSEL_SCROLL}},e)}),[e,n])})(n||{}),L=(0,w.$)(n),{rtl:P}=(0,d.b)(),[R,B]=(0,r.useState)(0),j=(0,r.useRef)(null),V=(0,y.f)(),G=(0,r.useRef)(!1),[$,q]=(0,i.E)({breakpoints:t,vertical:"vertical"===c,slides:{perView:T,spacing:I},mode:"free-snap",rtl:"horizontal"===c&&P,rubberband:!1,slideChanged:()=>{N&&D()},dragStarted:()=>{N&&(G.current=!0),null==C||C()},dragEnded:()=>{N&&(G.current=!1),null==x||x()},animationStarted:()=>{null==f||f()},animationEnded:()=>{var e;null==(e=j.current)||e.dispatchEvent(new CustomEvent("horizontalScroll")),N&&(G.current=!1),null==s||s()},animationStopped:()=>{null==p||p()}},[h]);(0,r.useEffect)((()=>{var e;null==(e=q.current)||e.update()}),[o,q]),(0,r.useEffect)((()=>{if(!j.current)return;const e=new ResizeObserver((()=>{var e;null==(e=q.current)||e.update()}));return e.observe(j.current),()=>{e.disconnect()}}),[q,j]),(0,r.useEffect)((()=>{if(q.current){const e=(R-q.current.track.details.abs)%T,t=0===e;e===T-1&&q.current.next(),t&&q.current.prev()}null==_||_(R)}),[R,_,T,q]),(0,r.useEffect)((()=>{if(!q.current)return;const e=q.current,t=e=>{var t;const{slides:n}=e;n.forEach(((e,t)=>{e.addEventListener("click",(()=>{B(t)}))})),null==(t=j.current)||t.classList.remove(E)};return t(e),e.on("created",t),()=>{e.on("created",t,!0)}}),[q]);const H=(0,r.useCallback)((e=>{var t;if(e.stopPropagation(),!q.current)return;N&&L({action:{name:b.zx.CLICK}},{elem:"carousel_prev"});const n=k(q.current,T),r=q.current.track.details.abs-Math.floor(n),a=q.current.track.details.minIdx,i=Math.max(r,a);null==(t=q.current)||t.moveToIdx(i),null==M||M()}),[M,L,N,q,T]),Y=(0,r.useCallback)((e=>{var t;if(e.stopPropagation(),!q.current)return;N&&L({action:{name:b.zx.CLICK}},{elem:"carousel_next"});const n=k(q.current,T),r=q.current.track.details.abs+Math.floor(n),a=q.current.track.details.maxIdx,i=Math.min(r,a);null==(t=q.current)||t.moveToIdx(i),null==S||S()}),[S,L,N,q,T]);return a().createElement("div",{className:(0,m.E)("Carousel-critical-catalog-module__wrapper--B1CRq",V?void 0:E,z),ref:e=>{j.current=e,A&&("function"==typeof A?A(e):A.current=e)},style:{"--carousel-spacing":`${I}px`}},a().createElement("div",{className:(0,m.E)("keen-slider","Carousel-critical-catalog-module__slider--LNooL","horizontal"===c?"Carousel-critical-catalog-module__horizontal--IXYy4":void 0,l),ref:$},o),O&&a().createElement(v,{arrowsSize:e,direction:c,hasArrowsTopOffset:u,sliderInstance:q,onNext:Y,onPrev:H}))})),C=(0,r.forwardRef)((({children:e,className:t},n)=>a().createElement("div",{className:(0,m.E)("keen-slider__slide",t),ref:n},e)));var _=n(93569);var S=(e=>(e[e.Screenshot=0]="Screenshot",e[e.Video=1]="Video",e))(S||{});const M=({isActive:e=!1,index:t,onClick:n,item:r})=>a().createElement("div",{className:(0,m.E)("GalleryThumbnail-module__block--NW48B",e?"GalleryThumbnail-module__active--Q7Xdt":void 0),onClick:()=>null==n?void 0:n(t)},a().createElement("img",{alt:"",src:r.previewSrc}),1===r.type&&a().createElement("div",{className:"GalleryThumbnail-module__videoIcon--guht9"},a().createElement(_.Z,{type:"category-games_with_video"})));var T=n(73694),I=n(17242),O=n(5825),z=n(41811);const A="Gallery-module__blur--K2s0k",N=({item:e,videoIndex:t})=>{const n=(0,r.useRef)(null),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!0),{playPageData:{gameInfo:u}}=(0,d.b)(),s=(0,O.C)((e=>e.fullDataAboutGames[u.appId])),f=s.media,p=(0,r.useMemo)((()=>{var e,n,r;const a=null==(e=f.videos)?void 0:e[t];return(null!=(n=null==a?void 0:a.height)?n:0)>(null!=(r=null==a?void 0:a.width)?r:0)}),[f.videos,t]);(0,r.useEffect)((()=>{n.current&&(n.current.src="",n.current.src=e.previewSrc),o(!1),c(!0);const t=window.setTimeout((()=>{o(!0)}),50),r=window.setTimeout((()=>{c(!1)}),5e3);return()=>{window.clearTimeout(r),window.clearTimeout(t)}}),[e.previewSrc,t]);const v=(0,r.useCallback)((()=>{c(!1)}),[]);return a().createElement("div",{className:(0,m.E)("Gallery-module__video--BQkVJ",p?A:void 0),style:{backgroundColor:e.hexColor}},a().createElement("img",{alt:"",crossOrigin:"anonymous",loading:"lazy",ref:n,src:e.previewSrc}),a().createElement(I.Z,{game:s,hover:i,media:f,size:z.xY.L,skipPoster:!0,skipPreview:!0,videoFit:p?"contain":"cover",videoIndex:t,onStartVideoPlay:v}),l&&a().createElement(T.y,{position:"center",size:28,spinning:!0,view:"default"}))};var D=n(36172),L=n(11324),P=n(68199);const R=({className:e,withVideo:t=!0,onItemActive:n,onItemClick:i,onPreviewClick:o})=>{const l=(0,O.C)(D.Up),{isSlowCountry:c,cdnUrl:u}=(0,d.b)(),{playPageData:{gameInfo:{appId:s}}}=(0,d.b)(),f=(0,O.C)((e=>e.fullDataAboutGames[s].media)),[p,v]=(0,r.useState)(0),h=(0,r.useMemo)((()=>{var e,n;const r=(0,P.R)(c)?u:void 0;return[...(t&&f.videos||[]).map((e=>{return{previewSrc:e.thumbnailUrl,fullsizeSrc:(n=e.thumbnailUrl,t=n.replace(/[^/]+$/,""),`${t.replace(/\/$/,"")}/orig`),hexColor:f.cover.mainColor,type:S.Video};var t,n})),...(null!=(n=null==(e=f.screenshots)?void 0:e.desktop)?n:[]).map((e=>{const t=(0,L.rN)(e["prefix-url"],"portrait"===e.orientation?"portrait":"landscape",r);return{previewSrc:t.defaultSrc,fullsizeSrc:t.fullsizeSrc,hexColor:e.mainColor,type:S.Screenshot}}))]}),[u,f,c,t]),g=h[p],w=(0,r.useCallback)((e=>{v(e),null==n||n(e)}),[n]);return a().createElement("div",{className:(0,m.E)("Gallery-module__wrapper--OcMOh",e),"data-testid":"MiddleLayerInGameGallery"},a().createElement("div",{className:"Gallery-module__gallery--eIwWl","data-guard-accept":!0,onClick:o},l&&a().createElement("div",{className:A,style:{backgroundColor:g.hexColor,backgroundImage:`url(${g.previewSrc})`}}),(null==g?void 0:g.type)===S.Screenshot&&a().createElement("div",{className:"Gallery-module__image--IHwzU",style:{backgroundColor:g.hexColor,backgroundImage:`url(${g.fullsizeSrc}), url(${g.previewSrc})`}}),(null==g?void 0:g.type)===S.Video&&a().createElement(N,{item:g,videoIndex:p})),a().createElement("div",{className:"Gallery-module__thumbnails--p1PAd"},a().createElement(x,{slidesPerView:3,spaceBetween:16,onItemActive:w},h.map(((e,t)=>a().createElement(C,{key:t},a().createElement(M,{index:t,isActive:p===t,item:e,onClick:i})))))))}},95100:(e,t,n)=>{var r=n(87363);function a(e){return Array.prototype.slice.call(e)}function i(e,t){var n=Math.floor(e);return n===t||n+1===t?e:t}function o(){return Date.now()}function l(e,t,n){if(t="data-keen-slider-"+t,null===n)return e.removeAttribute(t);e.setAttribute(t,n||"")}function c(e,t){return t=t||document,"function"==typeof e&&(e=e(t)),Array.isArray(e)?e:"string"==typeof e?a(t.querySelectorAll(e)):e instanceof HTMLElement?[e]:e instanceof NodeList?a(e):[]}function u(e){e.raw&&(e=e.raw),e.cancelable&&!e.defaultPrevented&&e.preventDefault()}function s(e){e.raw&&(e=e.raw),e.stopPropagation&&e.stopPropagation()}function d(){var e=[];return{add:function(t,n,r,a){t.addListener?t.addListener(r):t.addEventListener(n,r,a),e.push([t,n,r,a])},input:function(e,t,n,r){this.add(e,t,function(e){return function(t){t.nativeEvent&&(t=t.nativeEvent);var n=t.changedTouches||[],r=t.targetTouches||[],a=t.detail&&t.detail.x?t.detail:null;return e({id:a?a.identifier?a.identifier:"i":r[0]?r[0]?r[0].identifier:"e":"d",idChanged:a?a.identifier?a.identifier:"i":n[0]?n[0]?n[0].identifier:"e":"d",raw:t,x:a&&a.x?a.x:r[0]?r[0].screenX:a?a.x:t.pageX,y:a&&a.y?a.y:r[0]?r[0].screenY:a?a.y:t.pageY})}}(n),r)},purge:function(){e.forEach((function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])})),e=[]}}}function f(e,t,n){return Math.min(Math.max(e,t),n)}function m(e){return(e>0?1:0)-(e<0?1:0)||+e}function p(e){var t=e.getBoundingClientRect();return{height:i(t.height,e.offsetHeight),width:i(t.width,e.offsetWidth)}}function v(e,t,n,r){var a=e&&e[t];return null==a?n:r&&"function"==typeof a?a():a}function h(e){return Math.round(1e6*e)/1e6}function g(e,t){if(e===t)return!0;var n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return"function"===n&&e.toString()===t.toString();if(e.length!==t.length||Object.getOwnPropertyNames(e).length!==Object.getOwnPropertyNames(t).length)return!1;for(var r in e)if(!g(e[r],t[r]))return!1;return!0}var w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w.apply(this,arguments)};function b(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function y(e){var t,n,r,a,i,l,c,u,s,d,p,g,w,y,E=1/0,k=[],x=null,C=0;function _(e){D(C+e)}function S(e){var t=M(C+e).abs;return O(t)?t:null}function M(e){var t=Math.floor(Math.abs(h(e/n))),r=h((e%n+n)%n);r===n&&(r=0);var a=m(e),i=c.indexOf(b([],c,!0).reduce((function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e}))),o=i;return a<0&&t++,i===l&&(o=0,t+=a>0?1:-1),{abs:o+t*l*a,origin:i,rel:o}}function T(e,t,n){var r;if(t||!A())return I(e,n);if(!O(e))return null;var a=M(null!=n?n:C),i=a.abs,o=e-a.rel,c=i+o;r=I(c);var u=I(c-l*m(o));return(null!==u&&Math.abs(u)<Math.abs(r)||null===r)&&(r=u),h(r)}function I(e,t){if(null==t&&(t=h(C)),!O(e)||null===e)return null;e=Math.round(e);var r=M(t),a=r.abs,i=r.rel,o=r.origin,u=N(e),s=(t%n+n)%n,d=c[o],f=Math.floor((e-(a-i))/l)*n;return h(d-s-d+c[u]+f+(o===l?n:0))}function O(e){return z(e)===e}function z(e){return f(e,s,d)}function A(){return a.loop}function N(e){return(e%l+l)%l}function D(t){var n;n=t-C,k.push({distance:n,timestamp:o()}),k.length>6&&(k=k.slice(-6)),C=h(t);var r=L().abs;if(r!==x){var a=null!==x;x=r,a&&e.emit("slideChanged")}}function L(o){var c=o?null:function(){if(l){var e=A(),t=e?(C%n+n)%n:C,o=(e?C%n:C)-i[0][2],c=0-(o<0&&e?n-Math.abs(o):o),u=0,f=M(C),v=f.abs,h=f.rel,b=i[h][2],E=i.map((function(t,r){var i=c+u;(i<0-t[0]||i>1)&&(i+=(Math.abs(i)>n-1&&e?n:0)*m(-i));var o=r-h,s=m(o),d=o+v;e&&(-1===s&&i>b&&(d+=l),1===s&&i<b&&(d-=l),null!==p&&d<p&&(i+=n),null!==g&&d>g&&(i-=n));var f=i+t[0]+t[1],w=Math.max(i>=0&&f<=1?1:f<0||i>1?0:i<0?Math.min(1,(t[0]+i)/t[0]):(1-i)/t[0],0);return u+=t[0]+t[1],{abs:d,distance:a.rtl?-1*i+1-t[0]:i,portion:w,size:t[0]}}));return v=z(v),h=N(v),{abs:z(v),length:r,max:y,maxIdx:d,min:w,minIdx:s,position:C,progress:e?t/n:C/r,rel:h,slides:E,slidesLength:n}}}();return t.details=c,e.emit("detailsChanged"),c}return t={absToRel:N,add:_,details:null,distToIdx:S,idxToDist:T,init:function(t){if(function(){if(a=e.options,i=(a.trackConfig||[]).map((function(e){return[v(e,"size",1),v(e,"spacing",0),v(e,"origin",0)]})),l=i.length){n=h(i.reduce((function(e,t){return e+t[0]+t[1]}),0));var t,o=l-1;r=h(n+i[0][2]-i[o][0]-i[o][2]-i[o][1]),c=i.reduce((function(e,n){if(!e)return[0];var r=i[e.length-1],a=e[e.length-1]+(r[0]+r[2])+r[1];return a-=n[2],e[e.length-1]>a&&(a=e[e.length-1]),a=h(a),e.push(a),(!t||t<a)&&(u=e.length-1),t=a,e}),null),0===r&&(u=0),c.push(h(n))}}(),!l)return L(!0);var o;!function(){var t=e.options.range,n=e.options.loop;p=s=n?v(n,"min",-1/0):0,g=d=n?v(n,"max",E):u;var r=v(t,"min",null),a=v(t,"max",null);null!==r&&(s=r),null!==a&&(d=a),w=s===-1/0?s:e.track.idxToDist(s||0,!0,0),y=d===E?d:T(d,!0,0),null===a&&(g=d),v(t,"align",!1)&&d!==E&&0===i[N(d)][2]&&(y-=1-i[N(d)][0],d=S(y-C)),w=h(w),y=h(y)}(),o=t,Number(o)===o?_(I(z(t))):L()},to:D,velocity:function(){var e=o(),t=k.reduce((function(t,n){var r=n.distance,a=n.timestamp;return e-a>200||(m(r)!==m(t.distance)&&t.distance&&(t={distance:0,lastTimestamp:0,time:0}),t.time&&(t.distance+=r),t.lastTimestamp&&(t.time+=a-t.lastTimestamp),t.lastTimestamp=a),t}),{distance:0,lastTimestamp:0,time:0});return t.distance/t.time||0}}}function E(e){var t,n,r,a,i,o,l,c;function u(e){return 2*e}function s(e){return f(e,l,c)}function d(e){return 1-Math.pow(1-e,3)}function p(){return r?e.track.velocity():0}function v(e,t){void 0===t&&(t=1e3);var n=147e-9+(e=Math.abs(e))/t;return{dist:Math.pow(e,2)/n,dur:e/n}}function h(){var t=e.track.details;t&&(i=t.min,o=t.max,l=t.minIdx,c=t.maxIdx)}function g(){e.animator.stop()}e.on("updated",h),e.on("optionsChanged",h),e.on("created",h),e.on("dragStarted",(function(){r=!1,g(),t=n=e.track.details.abs})),e.on("dragChecked",(function(){r=!0})),e.on("dragEnded",(function(){var r=e.options.mode;"snap"===r&&function(){var r=e.track,a=e.track.details,l=a.position,c=m(p());(l>o||l<i)&&(c=0);var u=t+c;0===a.slides[r.absToRel(u)].portion&&(u-=c),t!==n&&(u=n),m(r.idxToDist(u,!0))!==c&&(u+=c),u=s(u);var d=r.idxToDist(u,!0);e.animator.start([{distance:d,duration:500,easing:function(e){return 1+--e*e*e*e*e}}])}(),"free"!==r&&"free-snap"!==r||function(){g();var t="free-snap"===e.options.mode,n=e.track,r=p();a=m(r);var l=e.track.details,c=[];if(r||!t){var f=v(r),h=f.dist,w=f.dur;if(w=u(w),h*=a,t){var b=n.idxToDist(n.distToIdx(h),!0);b&&(h=b)}c.push({distance:h,duration:w,easing:d});var y=l.position,E=y+h;if(E<i||E>o){var k=E<i?i-y:o-y,x=0,C=r;if(m(k)===a){var _=Math.min(Math.abs(k)/Math.abs(h),1),S=function(e){return 1-Math.pow(1-e,1/3)}(_)*w;c[0].earlyExit=S,C=r*(1-_)}else c[0].earlyExit=0,x+=k;var M=v(C,100),T=M.dist*a;e.options.rubberband&&(c.push({distance:T,duration:u(M.dur),easing:d}),c.push({distance:-T+x,duration:500,easing:d}))}e.animator.start(c)}else e.moveToIdx(s(l.abs),!0,{duration:500,easing:function(e){return 1+--e*e*e*e*e}})}()})),e.on("dragged",(function(){n=e.track.details.abs}))}function k(e){var t,n,r,a,i,o,l,p,v,h,g,w,b,y,E,k,x,C,_=d();function S(t){if(o&&p===t.id){var c=O(t);if(v){if(!I(t))return T(t);h=c,v=!1,e.emit("dragChecked")}if(k)return h=c;u(t);var d=function(t){if(x===-1/0&&C===1/0)return t;var r=e.track.details,o=r.length,l=r.position,c=f(t,x-l,C-l);if(0===o)return 0;if(!e.options.rubberband)return c;if(l<=C&&l>=x)return t;if(l<x&&n>0||l>C&&n<0)return t;var u=(l<x?l-x:l-C)/o,s=a*o,d=Math.abs(u*s),m=Math.max(0,1-d/i*2);return m*m*t}(l(h-c)/a*r);n=m(d);var b=e.track.details.position;(b>x&&b<C||b===x&&n>0||b===C&&n<0)&&s(t),g+=d,!w&&Math.abs(g*a)>5&&(w=!0),e.track.add(d),h=c,e.emit("dragged")}}function M(t){!o&&e.track.details&&e.track.details.length&&(g=0,o=!0,w=!1,v=!0,p=t.id,I(t),h=O(t),e.emit("dragStarted"))}function T(t){o&&p===t.idChanged&&(o=!1,e.emit("dragEnded"))}function I(e){var t=z(),n=t?e.y:e.x,r=t?e.x:e.y,a=void 0!==b&&void 0!==y&&Math.abs(y-r)<=Math.abs(b-n);return b=n,y=r,a}function O(e){return z()?e.y:e.x}function z(){return e.options.vertical}function A(){a=e.size,i=z()?window.innerHeight:window.innerWidth;var t=e.track.details;t&&(x=t.min,C=t.max)}function N(e){w&&(s(e),u(e))}function D(){if(_.purge(),e.options.drag&&!e.options.disabled){var n;n=e.options.dragSpeed||1,l="function"==typeof n?n:function(e){return e*n},r=e.options.rtl?-1:1,A(),t=e.container,function(){var e="data-keen-slider-clickable";c("[".concat(e,"]:not([").concat(e,"=false])"),t).map((function(e){_.add(e,"dragstart",s),_.add(e,"mousedown",s),_.add(e,"touchstart",s)}))}(),_.add(t,"dragstart",(function(e){u(e)})),_.add(t,"click",N,{capture:!0}),_.input(t,"ksDragStart",M),_.input(t,"ksDrag",S),_.input(t,"ksDragEnd",T),_.input(t,"mousedown",M),_.input(t,"mousemove",S),_.input(t,"mouseleave",T),_.input(t,"mouseup",T),_.input(t,"touchstart",M,{passive:!0}),_.input(t,"touchmove",S,{passive:!1}),_.input(t,"touchend",T),_.input(t,"touchcancel",T),_.add(window,"wheel",(function(e){o&&u(e)}));var a="data-keen-slider-scrollable";c("[".concat(a,"]:not([").concat(a,"=false])"),e.container).map((function(e){return function(e){var t;_.input(e,"touchstart",(function(e){t=O(e),k=!0,E=!0}),{passive:!0}),_.input(e,"touchmove",(function(n){var r=z(),a=r?e.scrollHeight-e.clientHeight:e.scrollWidth-e.clientWidth,i=t-O(n),o=r?e.scrollTop:e.scrollLeft,l=r&&"scroll"===e.style.overflowY||!r&&"scroll"===e.style.overflowX;if(t=O(n),(i<0&&o>0||i>0&&o<a)&&E&&l)return k=!0;E=!1,u(n),k=!1})),_.input(e,"touchend",(function(){k=!1}))}(e)}))}}e.on("updated",A),e.on("optionsChanged",D),e.on("created",D),e.on("destroyed",_.purge)}function x(e){var t,n,r=null;function a(t,n,r){e.animator.active?o(t,n,r):requestAnimationFrame((function(){return o(t,n,r)}))}function i(){a(!1,!1,n)}function o(n,a,i){var o=0,l=e.size,s=e.track.details;if(s&&t){var d=s.slides;t.forEach((function(e,t){if(n)!r&&a&&c(e,null,i),u(e,null,i);else{if(!d[t])return;var s=d[t].size*l;!r&&a&&c(e,s,i),u(e,d[t].distance*l-o,i),o+=s}}))}}function l(t){return"performance"===e.options.renderMode?Math.round(t):t}function c(e,t,n){var r=n?"height":"width";null!==t&&(t=l(t)+"px"),e.style["min-"+r]=t,e.style["max-"+r]=t}function u(e,t,n){if(null!==t){t=l(t);var r=n?t:0;t="translate3d(".concat(n?0:t,"px, ").concat(r,"px, 0)")}e.style.transform=t,e.style["-webkit-transform"]=t}function s(){t&&(o(!0,!0,n),t=null),e.on("detailsChanged",i,!0)}function d(){a(!1,!0,n)}function f(){s(),n=e.options.vertical,e.options.disabled||"custom"===e.options.renderMode||(r="auto"===v(e.options.slides,"perView",null),e.on("detailsChanged",i),(t=e.slides).length&&d())}e.on("created",f),e.on("optionsChanged",f),e.on("beforeOptionsChanged",(function(){s()})),e.on("updated",d),e.on("destroyed",s)}function C(e,t){return function(n){var r,a,i,o,u,s=d();function f(e){var t;l(n.container,"reverse","rtl"!==(t=n.container,window.getComputedStyle(t,null).getPropertyValue("direction"))||e?null:""),l(n.container,"v",n.options.vertical&&!e?"":null),l(n.container,"disabled",n.options.disabled&&!e?"":null)}function m(){h()&&k()}function h(){var e=null;if(o.forEach((function(t){t.matches&&(e=t.__media)})),e===r)return!1;r||n.emit("beforeOptionsChanged"),r=e;var t=e?i.breakpoints[e]:i;return n.options=w(w({},i),t),f(),M(),T(),C(),!0}function g(e){var t=p(e);return(n.options.vertical?t.height:t.width)/n.size||1}function b(){return n.options.trackConfig.length}function y(e){for(var l in r=!1,i=w(w({},t),e),s.purge(),a=n.size,o=[],i.breakpoints||[]){var c=window.matchMedia(l);c.__media=l,o.push(c),s.add(c,"change",m)}s.add(window,"orientationchange",S),s.add(window,"resize",_),h()}function E(e){n.animator.stop();var t=n.track.details;n.track.init(null!=e?e:t?t.abs:0)}function k(e){E(e),n.emit("optionsChanged")}function x(e,t){if(e)return y(e),void k(t);M(),T();var r=b();C(),b()!==r?k(t):E(t),n.emit("updated")}function C(){var e=n.options.slides;if("function"==typeof e)return n.options.trackConfig=e(n.size,n.slides);for(var t=n.slides,r=t.length,a="number"==typeof e?e:v(e,"number",r,!0),i=[],o=v(e,"perView",1,!0),l=v(e,"spacing",0,!0)/n.size||0,c="auto"===o?l:l/o,u=v(e,"origin","auto"),s=0,d=0;d<a;d++){var f="auto"===o?g(t[d]):1/o-l+c,m="center"===u?.5-f/2:"auto"===u?0:u;i.push({origin:m,size:f,spacing:l}),s+=f}if(s+=l*(a-1),"auto"===u&&!n.options.loop&&1!==o){var p=0;i.map((function(e){var t=s-p;return p+=e.size+l,t>=1||(e.origin=1-t-(s>1?0:1-s)),e}))}n.options.trackConfig=i}function _(){M();var e=n.size;n.options.disabled||e===a||(a=e,x())}function S(){_(),setTimeout(_,500),setTimeout(_,2e3)}function M(){var e=p(n.container);n.size=(n.options.vertical?e.height:e.width)||1}function T(){n.slides=c(n.options.selector,n.container)}n.container=(u=c(e,document)).length?u[0]:null,n.destroy=function(){s.purge(),n.emit("destroyed"),f(!0)},n.prev=function(){n.moveToIdx(n.track.details.abs-1,!0)},n.next=function(){n.moveToIdx(n.track.details.abs+1,!0)},n.update=x,y(n.options)}}var _=function(e,t,n){try{return function(e,t){var n,r={};return n={emit:function(e){r[e]&&r[e].forEach((function(e){e(n)}));var t=n.options&&n.options[e];t&&t(n)},moveToIdx:function(e,t,r){var a=n.track.idxToDist(e,t);if(a){var i=n.options.defaultAnimation;n.animator.start([{distance:a,duration:v(r||i,"duration",500),easing:v(r||i,"easing",(function(e){return 1+--e*e*e*e*e}))}])}},on:function(e,t,n){void 0===n&&(n=!1),r[e]||(r[e]=[]);var a=r[e].indexOf(t);a>-1?n&&delete r[e][a]:n||r[e].push(t)},options:e},function(){if(n.track=y(n),n.animator=function(e){var t,n,r,a,i,o;function l(t){o||(o=t),c(!0);var i=t-o;i>r&&(i=r);var d=a[n];if(d[3]<i)return n++,l(t);var f=d[2],m=d[4],p=d[0],v=d[1]*(0,d[5])(0===m?1:(i-f)/m);if(v&&e.track.to(p+v),i<r)return s();o=null,c(!1),u(null),e.emit("animationEnded")}function c(e){t.active=e}function u(e){t.targetIdx=e}function s(){var e;e=l,i=window.requestAnimationFrame(e)}function d(){var t;t=i,window.cancelAnimationFrame(t),c(!1),u(null),o&&e.emit("animationStopped"),o=null}return t={active:!1,start:function(t){if(d(),e.track.details){var i=0,o=e.track.details.position;n=0,r=0,a=t.map((function(e){var t,n=Number(o),a=null!==(t=e.earlyExit)&&void 0!==t?t:e.duration,l=e.easing,c=e.distance*l(a/e.duration)||0;o+=c;var u=r;return r+=a,i+=c,[n,e.distance,u,r,e.duration,l]})),u(e.track.distToIdx(i)),s(),e.emit("animationStarted")}},stop:d,targetIdx:null}}(n),t)for(var e=0,r=t;e<r.length;e++)(0,r[e])(n);n.track.init(n.options.initial||0),n.emit("created")}(),n}(t,b([C(e,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),x,k,E],n||[],!0))}catch(e){console.error(e)}};t.E=function(e,t){var n=r.useRef(null),a=r.useRef(!1),i=r.useRef(e),o=r.useCallback((function(r){r?(i.current=e,n.current=new _(r,e,t),a.current=!1):(n.current&&n.current.destroy&&n.current.destroy(),n.current=null)}),[]);return r.useEffect((function(){g(i.current,e)||(i.current=e,n.current&&n.current.update(i.current))}),[e]),[o,n]}}}]);
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/_/build/client/game/desktop/playhop/Gallery.component.async.180a73f11cc75682e636.js.map