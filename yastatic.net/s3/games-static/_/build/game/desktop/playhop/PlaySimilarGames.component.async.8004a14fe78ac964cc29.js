"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6855],{50644:(e,t,r)=>{r.d(t,{Q:()=>R});var i,n,o=r(87363),l=r.n(o),a=r(9579),s=r(72853);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},c.apply(this,arguments)}const d=e=>o.createElement("svg",c({fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 11.292h14a1 1 0 1 1 0 2H5z",clipRule:"evenodd"})),n||(n=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 19.293a1 1 0 0 1-1.414 0l-7-7 7-7A1 1 0 1 1 12 6.707l-5.586 5.586L12 17.879a1 1 0 0 1 0 1.414",clipRule:"evenodd"})));var m,u;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},h.apply(this,arguments)}const p=e=>o.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),m||(m=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 13.208H5a1 1 180 1 1 0-2h14z",clipRule:"evenodd"})),u||(u=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 5.207a1 1 180 0 1 1.414 0l7 7-7 7A1 1 180 1 1 12 17.793l5.586-5.586L12 6.621a1 1 180 0 1 0-1.414",clipRule:"evenodd"})));var f;function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},g.apply(this,arguments)}const b=e=>o.createElement("svg",g({fill:"none",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),f||(f=o.createElement("path",{fill:"currentColor",d:"m11.232 14.005 8.382 8.388a1.75 1.75 0 0 1-2.476 2.474L7.52 15.242a1.75 1.75 0 0 1 0-2.474l9.618-9.625a1.75 1.75 0 0 1 2.476 2.474z"})));var v;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},k.apply(this,arguments)}const y=e=>o.createElement("svg",k({fill:"none",viewBox:"0 0 28 29",xmlns:"http://www.w3.org/2000/svg"},e),v||(v=o.createElement("path",{fill:"currentColor",d:"m16.777 14.905-8.382 8.388a1.75 1.75 0 1 0 2.476 2.474l9.618-9.625a1.75 1.75 0 0 0 0-2.474l-9.618-9.625a1.75 1.75 0 0 0-2.476 2.474z"})));var w=r(6783);const P={button:"floatButton-critical-module__button--CQIyI clickableElement-module__clickableElement--VFi7q",icon:"floatButton-critical-module__icon--cpcl2","icon-left-offset":"floatButton-critical-module__icon-left-offset--S0DP4","icon-right-offset":"floatButton-critical-module__icon-right-offset--BrvSN"},E={left:l().createElement(b,null),right:l().createElement(y,null)},C={left:l().createElement(d,null),right:l().createElement(p,null)},S=(0,o.forwardRef)((({alt:e,className:t,onClick:r,direction:i,"data-testid":n},c)=>{const d=(0,o.useCallback)((e=>{navigator.userAgent.match(/safari/i)&&e.preventDefault()}),[]),{floatButton:{arrowType:m}}=(0,w.P)(),u="short"===m,h=u?E:C;return l().createElement("button",{className:(0,a.y)(t,P.button),"data-testid":n,ref:c,title:e,onClick:r,onMouseDown:d},l().createElement(s.Z,{alt:e,className:(0,a.y)(P.icon,u&&P[`icon-${i}-offset`]),size:u?28:24},h[i]))}));S.displayName="FloatButton";const R=(0,o.memo)(S)},96321:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ie});var i=r(63904),n=r.n(i),o=r(87363),l=r.n(o),a=r(4824),s=r(29974),c=r(4230),d=r(67748),m=r.n(d),u=r(4463),h=r(99888),p=r(5718),f=r(18455),g=r(78740),b=r(92549),v=r(36292),k=r(482),y=r(40184),w=r(5825),P=r(18546),E=r(98343),C=r(20613),S=r(11324),R=r(35090),O=r(34967),L=r(68108),_=r(33252),x=r(41811),D=r(13377),z=r(15771),B=r(57681),I=Object.defineProperty,T=Object.defineProperties,j=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,q=(e,t,r)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const H=n().with("play-similar-games-tile"),$=(0,b.j)((0,o.memo)((({column:e,game:t,similarToAppId:r})=>{const i=(0,y.b)(),{abt:n,baseUrlWithLangPath:a,categoryDataMappedByID:s,hidePaymentsAndCurrency:c,isPWA:d,isSlowCountry:b,oneTabPWA:I,referrer:$}=i,Z=(0,u.TH)(),G=(0,o.useRef)(null),V=(0,z.TT)(n.flags),{payCurrency:W}=(0,w.C)((e=>e.user)),{appID:U,bkPromo:F,categoryIDs:K,developer:Y,media:Q,title:J,badge:X}=t,{badgeTitle:ee,badgeType:te}=X||{},re=F&&("visibilityLinks"in F||"clickLink"in F),ie=b?S.wC.icon.smallLow:S.wC.cover[x.xY.PLAY_SIMILAR_GAMES],ne=(0,o.useMemo)((()=>{var e;let r=(0,R.Yk)(Z.search,{utm_source:encodeURIComponent(re?g.gK:g.b3),[x.o1]:c?"1":"",[x.Vw]:(0,L.sD)($)?$:"",[x.cB]:d?"1":""});if((null==(e=t.bkPromo)?void 0:e.yclid)&&(r=(0,R.Px)({search:r,params:{yclid:t.bkPromo.yclid}})),V){let e="",t="?";if(-1!==r.indexOf("?")){t=r+"&";try{const t=m().parse(r.substring(1)),i=encodeURIComponent(JSON.stringify(t));e=`&${g.cC}=${i}`}catch(e){(0,_.H)({prefix:"GameTile",block:D.W.APP_PAGE,message:"Failed to encode params for similar games popup in catalog"},e)}}return`${a}/${t}game-id=${U}${e}`}return`${a}${(0,B.TI)(i,{appID:U})}${r}`}),[i,U,a,c,t.bkPromo,d,re,Z.search,V,$]),{sendClickDaemon:oe}=(0,v.P)(),le=(0,o.useMemo)((()=>({page:`game_${r}`,row:0,col:e,app_id:t.appID,card:x.xY.PLAY_SIMILAR_GAMES})),[e,t.appID,r]),ae=(0,o.useCallback)((e=>{var t;re&&(null==(t=F.visibilityLinks)||t.forEach((e=>(0,P.Z)(e,{credentials:"include"})))),oe(e,le)}),[F,re,le,oe]),{firstScreen:se,blockSize:ce}=(0,k.V)({ref:G,onShow:ae,threshold:1,delay:0,observerId:"useOnShowLinks"}),de=(0,o.useCallback)((()=>{var e;re&&F.clickLink&&fetch(F.clickLink).then((e=>{if(200!==e.status)throw new Error(`Game click_link fetch return ${e.status}`)})).catch((e=>{(0,_.H)({prefix:"GameTile",block:D.W.APP_PAGE,message:"Failed to fetch click link",additional:{clickLink:F.clickLink}},e)}));try{const t={id:U,name:J};(null==Y?void 0:Y.name)&&(t.brand=Y.name),(null==(e=s[null==K?void 0:K[0]])?void 0:e.name)&&(t.category=s[K[0]].name),(0,O._H)({currencyCode:W,click:{products:[t]}})}catch(e){(0,_.H)({prefix:"GameTile",block:D.W.APP_PAGE,message:"Failed to get productInfo for pushEcommData"},e)}const t={action:{name:E.zx.CLICK},firstScreen:se,blockSize:ce};var r;oe(t,(r=((e,t)=>{for(var r in t||(t={}))N.call(t,r)&&q(e,r,t[r]);if(A)for(var r of A(t))M.call(t,r)&&q(e,r,t[r]);return e})({},le),T(r,j({click_url:ne,elem:"card"}))))}),[U,F,ce,s,K,le,Y.name,se,ne,re,W,oe,J]),me=(0,o.useMemo)((()=>{const e={rtx_reqid:i.rtxReqid||(0,C.S)().rtx_reqid,request_id:t.requestId};return t.gamesRequestId&&(e.games_request_id=t.gamesRequestId),e}),[i.rtxReqid,t.gamesRequestId,t.requestId]);return l().createElement("div",{className:H(),ref:G},l().createElement(f.Kk,{className:H("image"),href:ne,redirParams:me,target:I?"_parent":"_blank",title:J,onClick:de},l().createElement("img",{alt:J,src:`${Q.cover["prefix-url"]}${ie}`,title:J})),l().createElement(f.Kk,{className:H("title"),href:ne,redirParams:me,target:I?"_parent":"_blank",title:J,onClick:de},J),t.gqRating?l().createElement(p.Z,{isBackgroundTransparent:!0,isCornered:!0,isSimilarCard:!0,mix:H("quality-score"),value:t.gqRating,withoutText:!0}):null,te?l().createElement(h.Z,{badgeTitle:ee,type:te}):null)})),{clickDaemonParams:{block:x.co.SIMILAR,wrapper:x.NK.PLAY_SIMILAR_GAMES,item:x.co.GAME}}),Z=l().memo((({games:e,similarToAppId:t})=>l().createElement(l().Fragment,null,e.map(((e,r)=>l().createElement($,{clickDaemonParams:{request_id:e.requestId,games_request_id:e.gamesRequestId},column:r,game:e,key:e.appID,similarToAppId:t})))))),G="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;var V=r(22355),W=r(72538),U=r(90239);const F=n().with("play-similar-games-stub");class K extends o.Component{render(){return l().createElement("div",{className:F()},l().createElement("div",{className:F("block",{text:Boolean(this.props.text),bg:!this.props.text})},this.props.text),l().createElement("div",{className:F("title",{bg:this.props.titleLine})}))}}const Y=n().with(g.Ek),Q=({inGamePage:e=!1,visible:t=!0})=>l().createElement("div",{className:Y({visible:t,"in-game-page":e})},Array.from(Array(e?6:8)).map(((e,t)=>l().createElement(K,{key:t,titleLine:!0}))),l().createElement(K,null)),J=K;var X=r(11510),ee=r(17061);const te=l().memo((({inGamePage:e,mix:t,onClose:r})=>{const i=(0,u.TH)(),{isPWA:n,hidePaymentsAndCurrency:a,referrer:s,oneTabPWA:c,baseUrl:d,location:m}=(0,y.b)(),h=(0,X.T)()("similar.all-games"),p=(0,o.useMemo)((()=>(0,R.Yk)(i.search,{utm_source:encodeURIComponent(g.b3),[x.o1]:a?"1":"",[x.om]:(0,ee.V)(x.om,m)||"",[x.Vw]:(0,L.sD)(s)?s:"",[x.cB]:n?"1":""})),[a,n,s,m,i]);return e?null:l().createElement("div",{className:t},l().createElement(f.Kk,{href:`${d}${p}`,target:c?"_self":"_blank"},l().createElement(J,{text:h})),l().createElement(U.Z,{type:"app-page",onClick:r}))})),re=n().with("play-similar-games"),ie=(0,b.j)((({inGamePage:e,isBlackFadeout:t,similarToAppId:r,visible:i})=>{const[n,d]=(0,o.useState)(!1),[m,u]=(0,o.useState)(void 0),h=(0,o.useRef)(null),p=(0,w.C)(V.b),f=(0,w.C)((e=>e.similarGames[Number(r)])),{isSearchCrawler:b=!1}=(0,o.useContext)(a.Z),y=(0,o.useCallback)((()=>{(0,c.xG)(r),(0,O.U4)({},{borrowParams:{play_similar_games:{action:"closed",appId:r}}}),d(!0),document.body.classList.add("with-similar-games_closed")}),[r]),P=(0,o.useCallback)(((e,t)=>{u(t)}),[]),{sendClickDaemon:E}=(0,v.P)(),C=(0,o.useCallback)((e=>{var t;E(e,{page:`game_${r}`,carousel_size:m,same_block_index:0,request_id:null==(t=null==f?void 0:f[0])?void 0:t.requestId})}),[E,m,f,r]),S=Boolean(void 0!==m&&!n&&!p);(0,k.V)({ref:h,onShow:C,ready:S});const R=(({closed:e,similarGames:t,inGamePage:r})=>{const i=(0,o.useRef)(!1),[n,l]=(0,o.useState)(0),a=(0,w.C)(V.b),s=(e,t)=>l(t.width),d=(0,o.useCallback)((()=>{i.current||r||(i.current=!0,W.Z.addResizeBlock(g.SA,{game:{height:-g.lX}}),W.Z.addResizeBlockListener("game",s))}),[r]),m=(0,o.useCallback)((()=>{i.current&&!r&&(i.current=!1,W.Z.removeResizeBlock(g.SA),W.Z.removeResizeBlockListener("game",s))}),[r]);return(0,o.useEffect)((()=>(e||null===t?m():d(),()=>{m()})),[e,t,d,m]),G((()=>{a||e?m():(d(),(0,c.ii)())}),[a,d,m]),n})({closed:n,inGamePage:Boolean(e),similarGames:f||[]}),L=(0,o.useMemo)((()=>e?{}:{width:`calc(100% + ${R}px)`}),[e,R]);return(null==f?void 0:f.length)||b||n?(null==f?void 0:f.length)&&i&&!n?l().createElement("div",{className:re({hidden:p&&!e,page:e?"game":"default"}),ref:h,style:L},l().createElement(s.Z,{gamePage:e,hasArrowButtons:!0,limitation:!0,mix:re("container",{"fadeout-black":t}),onInitContainerElement:P},l().createElement(Z,{games:f,similarToAppId:r})),l().createElement(te,{inGamePage:e,mix:re("all-games-tile"),onClose:y})):null:l().createElement(Q,{inGamePage:e})}),{clickDaemonParams:{block:x.co.SIMILAR}})},52193:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(63904),n=r.n(i),o=r(87363),l=r.n(o),a=r(94671);const s=n().with("age-rating-badge"),c=({ageRating:e,mix:t=""})=>l().createElement("div",{className:(0,a.E)(s(),t)},e)},99888:(e,t,r)=>{r.d(t,{Z:()=>w});var i=r(87363),n=r.n(i),o=r(9579),l=r(40006);const a={badge:"badge-critical-module__badge--SfRrJ",hasIcon:"badge-critical-module__hasIcon--TrdEH",icon:"badge-critical-module__icon--Idlwl",text:"badge-critical-module__text--Zbf1f",type_event_game:"badge-critical-module__type_event_game--gdZMZ"},s=({text:e,title:t,colorsCSSProps:r,icon:i,type:s})=>{if(!i&&!e)return null;const c={backgroundColor:`var(${null==r?void 0:r.background})`,color:`var(${null==r?void 0:r.text})`},d=s&&a[`type_${s}`];return n().createElement("div",{className:(0,o.y)(a.badge,i&&a.hasIcon,d),style:c,title:t},!i&&e&&n().createElement(l.Z,{className:a.text,nowrap:!0,overflow:"ellipsis",variant:"badge-text"},e),(()=>{if(i&&"function"==typeof i){const e=i();return n().createElement("div",{className:a.icon},e)}return null})())};var c=r(63904),d=r.n(c),m=r(52193),u=r(5718),h=r(93569),p=r(94671);const f=["badge.direct","badge.new","badge.promo","badge.top"],g={"badge.direct":{background:"--color-blue-medium-400",text:"--color-blue-medium-100"},"badge.new":{background:"--color-blue-medium-400",text:"--color-blue-medium-100"},"badge.promo":{background:"--color-turquoise-500",text:"--color-turquoise-900"},"badge.top":{background:"--color-yellow-450",text:"--color-yellow-1000"}},b=e=>{if((e=>f.includes(e))(e))return g[e]},v=d().with("game-badges"),k={"badge.direct":()=>n().createElement(h.Z,{type:"thunderbolt"}),"badge.new":void 0,"badge.top":void 0,"badge.promo":void 0};class y extends i.Component{constructor(){super(...arguments),this.getStickyBadge=()=>{const{type:e,badgeTitle:t}=this.props;if(!e)return null;const r=b(e),i=(e=>{if(e)return k[e]})(e);return r?n().createElement(s,{colorsCSSProps:r,icon:i,text:t,title:t}):null}}render(){const{ageRating:e,gqRating:t,mix:r,noStickyBadges:i}=this.props,o=[],l=i?null:this.getStickyBadge();return l&&o.unshift(l),e&&o.unshift(n().createElement(m.Z,{ageRating:e,key:"age-rating",mix:(0,p.E)(v("age-rating-badge"),r)})),t&&o.unshift(n().createElement(u.Z,{isBackgroundTransparent:!0,isCornered:!0,key:"quality-score",mix:(0,p.E)(v("game-quality-badge"),r),value:t,withoutText:!0})),o}}y.defaultProps={mix:""};const w=(0,i.memo)(y)},29974:(e,t,r)=>{r.d(t,{Z:()=>g});var i=r(50644),n=r(63904),o=r.n(n),l=r(87363),a=r.n(l),s=r(53726),c=r(4824),d=r(36172),m=r(72461),u=r(92213);function h(e){const t=getComputedStyle(e);return e.offsetWidth+parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)}const p=o().with("horizontal-container");class f extends l.Component{constructor(e,t){super(e),this.hasOldChromeRtlScrollBug=void 0,this.containerRef=a().createRef(),this.listRef=a().createRef(),this.setScrollDirectionTimeoutOnEvent=()=>this.setScrollDirectionTimeout(10),this.handleVisibilityChange=()=>{const{hidden:e}=this.visibilityProps,{preLastScrollLeft:t}=this;this.isVisible=!document[e],this.isVisible&&this.containerRef.current&&(this.containerRef.current.scrollLeft=t)},this.handleScroll=()=>{var e;this.props.isPositionSaved&&this.isVisible&&(this.preLastScrollLeft=this.lastScrollLeft,this.lastScrollLeft=(null==(e=this.containerRef.current)?void 0:e.scrollLeft)||0),this.setScrollDirection()},this.handleLeftControlClick=()=>{this.handleControlClick("left")},this.handleRightControlClick=()=>{this.handleControlClick("right")},this.handleDoubleClick=e=>{e.preventDefault()};const r=t.rtl?"left":"right";this.isVisible=!0,this.lastScrollLeft=0,this.preLastScrollLeft=0,this.state={scrollDirection:e.showRightArrowSSR?r:"",control:{left:{disabled:!1},right:{disabled:!1}}}}get visibilityProps(){let e="hidden",t="visibilitychange";return"msHidden"in document?(e="msHidden",t="msvisibilitychange"):"webkitHidden"in document&&(e="webkitHidden",t="webkitvisibilitychange"),{hidden:e,visibilityChange:t}}setScrollDirectionTimeout(e){window.setTimeout((()=>{this.setScrollDirection()}),e)}addResizeHandler(){window.addEventListener("resize",this.setScrollDirectionTimeoutOnEvent,!1)}deleteResizeHandler(){window.removeEventListener("resize",this.setScrollDirectionTimeoutOnEvent,!1)}addOrientationChangeHandler(){window.addEventListener("orientationchange",this.setScrollDirectionTimeoutOnEvent,!1)}deleteOrientationChangeHandler(){window.removeEventListener("orientationchange",this.setScrollDirectionTimeoutOnEvent,!1)}addVisibilityHandler(){document.addEventListener(this.visibilityProps.visibilityChange,this.handleVisibilityChange,!1)}deleteVisibilityHandler(){document.removeEventListener(this.visibilityProps.visibilityChange,this.handleVisibilityChange,!1)}centerScrollOnTarget(e){const{centerElement:t}=this.props;if(t&&t!==e&&this.containerRef.current){const e=h(this.containerRef.current);this.containerRef.current.scrollLeft=t.offsetLeft-e/2+t.clientWidth/2+0}}componentDidUpdate({centerElement:e}){this.setScrollDirectionTimeout(0),this.centerScrollOnTarget(e)}componentDidMount(){this.props.onInitContainerElement(this.containerRef.current,this.getCarouselSize()),this.addResizeHandler(),this.props.isPositionSaved&&(this.addVisibilityHandler(),this.setScrollDirectionTimeout(0))}componentWillUnmount(){this.deleteVisibilityHandler(),this.deleteResizeHandler()}handleControlClick(e){const t=this.state.control[e];t&&t.disabled||this.canScrollTo(e)&&this.move(e)}move(e){const t=this.listRef.current,r=this.containerRef.current;if(!t||!r)return;const i=t.scrollLeft+this._getOffset(e);(0,m.Z)({scrollLeft:i},{element:r})}canScrollTo(e){return[e,"both"].includes(this.state.scrollDirection)}_getOffset(e){return("left"===e?-1:1)*this.props.scrollStep}getListPadding(){const e=this.listRef.current;if(!e)return 0;const t=getComputedStyle(e);return parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10)}setScrollDirection(){const e=this.containerRef.current;if(!e)return;const{rtl:t}=this.context,r=e.scrollLeft;void 0===this.hasOldChromeRtlScrollBug&&(this.hasOldChromeRtlScrollBug=r>0);const i=(this.props.limitation?e.scrollWidth:e.scrollWidth-36-36-this.getListPadding())-h(e),n=t&&!this.hasOldChromeRtlScrollBug?i+r:r,o=this.props.arrowCardShift+0;let l;l=i<=0?"":n<2+(t?o:0)?"right":n>i-(2+(t?0:o))?"left":"both",l!==this.state.scrollDirection&&this.setState({scrollDirection:l})}getCarouselSize(){var e,t,r;let i=null==(e=this.listRef.current)?void 0:e.children[0],n=0;if(null==i?void 0:i.classList.length){if(null==i?void 0:i.classList.contains("promos-banner")){const e=window.getComputedStyle(i);n=i.clientWidth+parseFloat(e.marginLeft)+parseFloat(e.marginRight),i=null==(r=this.listRef.current)?void 0:r.children[1]}}else i=null==(t=this.listRef.current)?void 0:t.children[1];if(!this.listRef.current||!i)return"0";const o=this.listRef.current.parentElement||this.listRef.current,l=new u.Z(o),a=window.getComputedStyle(o),s=l.getElementVisibleWidth()-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight)-n,c=window.getComputedStyle(i),d=i.clientWidth+parseFloat(c.marginLeft)+parseFloat(c.marginRight);if(!d)return"0";let m=s/d;return n&&(m+=1),m.toFixed(2)}render(){const{children:e,mix:t,hasSpace:r,gamePage:n,limitation:o,hasArrowButtons:l,showShadow:s,wrapperRef:c,size:d,getText:m}=this.props,{scrollDirection:u}=this.state;return a().createElement("div",{className:`${p({direction:u||"none",limitation:o,size:d})} ${n?"centered-content":p({adaptive:!0})} ${t}`},a().createElement("div",{className:p("container-wrapper",{adaptive:!0}),ref:c},a().createElement("div",{className:p("container",{"game-page":n,adaptive:!0}),ref:this.containerRef,onScroll:this.handleScroll},a().createElement("div",{className:p("list",{"game-page":n}),ref:this.listRef},e,a().createElement("span",{className:p("more")}),a().createElement("span",{className:p("place-keeper",{space:r})})))),s&&a().createElement("div",{className:p("shadow",{left:!0})}),s&&a().createElement("div",{className:p("shadow",{right:!0})}),l&&a().createElement("div",{className:p("control",{side:"left",visible:["both","left"].includes(u),"game-page-left-arrow":n}),onClick:this.handleLeftControlClick,onDoubleClick:this.handleDoubleClick},a().createElement(i.Q,{alt:m("common.scroll.left"),className:p("button"),"data-testid":"HorizontalContainerButton-Left",direction:"right"})),l&&a().createElement("div",{className:p("control",{side:"right",visible:["both","right"].includes(u),"game-page-right-arrow":n}),onClick:this.handleRightControlClick,onDoubleClick:this.handleDoubleClick},a().createElement(i.Q,{alt:m("common.scroll.right"),className:p("button"),"data-testid":"HorizontalContainerButton-Right",direction:"right"})))}}f.defaultProps={arrowCardShift:1,onInitContainerElement:()=>{},hasArrowButtons:!1,hasSpace:!1,gamePage:!1,scrollStep:700,showRightArrowSSR:!1,showShadow:!1},f.contextType=c.Z;const g=(0,s.$j)((function(e){return{darkTheme:(0,d.Up)(e),getText:e.getText}}))(f)},1338:(e,t,r)=>{r.d(t,{O:()=>i});const i=(0,r(87363).createContext)({clickDaemonParams:{},metrikaParams:{},sendClickDaemon:()=>{},sendMetrika:()=>{}})},92549:(e,t,r)=>{r.d(t,{j:()=>z});var i=r(87363),n=r.n(i),o=r(1338),l=r(63662),a=r(5901),s=r(61006),c=r(40184),d=r(33119),m=r(5825),u=r(41811),h=r(89592),p=Object.defineProperty,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))g.call(t,r)&&v(e,r,t[r]);if(f)for(var r of f(t))b.call(t,r)&&v(e,r,t[r]);return e},y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,E=(e,t)=>{var r={};for(var i in e)w.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&y)for(var i of y(e))t.indexOf(i)<0&&P.call(e,i)&&(r[i]=e[i]);return r};function C(e){var t=e,{children:r}=t,p=E(t,["children"]);const{metrikaParams:f,clickDaemonParams:g}=(0,l.b)(p),b=function(e={}){const t=(0,m.T)(),r=(0,m.C)((e=>e.tagID)),{rtxReqid:n,platform:o,deviceType:l}=(0,c.b)(),a=(0,s.j)(),p={deviceType:l,clientDeviceType:l,platform:o,rtxReqid:n,tabCategory:a,listCategory:a===u.yK?r:void 0,type:h.SS.BLOCK},f=(0,i.useMemo)((()=>k(k({},p),e)),[a,l,o,n,r,e]);return(0,i.useCallback)(((e,r)=>{const i={staticParams:k(k({},f),r),action:e.action,blockSize:e.blockSize,firstScreen:e.firstScreen,logMethod:u.Go.USE_SEND_METRIKA};t((0,d.tn)(i))}),[t,f])}(f),v=(0,a.$)(g);return n().createElement(o.O.Provider,{value:{metrikaParams:f,clickDaemonParams:g,sendMetrika:b,sendClickDaemon:v}},r)}var S=Object.defineProperty,R=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,_=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))O.call(t,r)&&_(e,r,t[r]);if(R)for(var r of R(t))L.call(t,r)&&_(e,r,t[r]);return e},D=(e,t)=>{var r={};for(var i in e)O.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&R)for(var i of R(e))t.indexOf(i)<0&&L.call(e,i)&&(r[i]=e[i]);return r};function z(e,t){return r=>{var o=r,{metrikaParams:l,clickDaemonParams:a}=o,s=D(o,["metrikaParams","clickDaemonParams"]);const c=(0,i.useMemo)((()=>(null==t?void 0:t.metrikaParams)?x(x({},null==t?void 0:t.metrikaParams),l):l),[l]),d=(0,i.useMemo)((()=>(null==t?void 0:t.clickDaemonParams)?x(x({},null==t?void 0:t.clickDaemonParams),a):a),[a]);return n().createElement(C,{clickDaemonParams:d,metrikaParams:c},n().createElement(e,x({},s)))}}},63662:(e,t,r)=>{r.d(t,{b:()=>m});var i=r(87363),n=r(1338),o=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&c(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&c(e,r,t[r]);return e};function m(e){const t=(0,i.useContext)(n.O);return{metrikaParams:(0,i.useMemo)((()=>(null==e?void 0:e.metrikaParams)?d(d({},t.metrikaParams),null==e?void 0:e.metrikaParams):t.metrikaParams),[t.metrikaParams,null==e?void 0:e.metrikaParams]),clickDaemonParams:(0,i.useMemo)((()=>(null==e?void 0:e.clickDaemonParams)?d(d({},t.clickDaemonParams),null==e?void 0:e.clickDaemonParams):t.clickDaemonParams),[t.clickDaemonParams,null==e?void 0:e.clickDaemonParams])}}},5901:(e,t,r)=>{r.d(t,{$:()=>v});var i=r(87363),n=r(61006),o=r(35184),l=r(5825),a=r(36918),s=r(40184),c=r(22823),d=r(41811),m=r(49659),u=Object.defineProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&g(e,r,t[r]);if(h)for(var r of h(t))f.call(t,r)&&g(e,r,t[r]);return e};function v(e={}){const{rtxReqid:t}=(0,s.b)(),r=(0,l.C)((e=>e.rtxReqid)),u=function(){const e=(0,l.C)((e=>e.tagID)),t=(0,l.C)((e=>{var t;return null==(t=e.middleLayerInGameData)?void 0:t.appId})),r=(0,n.j)(),i=(0,o.M)();return(0,a.L8)({currentTab:r,tagID:e,isErrorPage:i,middleLayerAppId:t})}();return(0,i.useCallback)(((i,n)=>{var o;const l=i.action.name,a={url:(0,m.e)().href,rtx_reqid:t||r||"",page:u,first_screen:i.firstScreen?1:0,block:u,block_index:0,wrapper:d.NK.UNKNOWN,item:"block"};i.clickUrl&&(a.click_url=i.clickUrl);const s=b(b(b({},a),e),n),h=(0,c.L)();if(h)for(const[e,t]of Object.entries(h.params))s[e]=t;null==(o=window.clickdaemonLog)||o.call(window,l,s)}),[u,t,e])}},36292:(e,t,r)=>{r.d(t,{P:()=>o});var i=r(87363),n=r(1338);function o(){const{sendMetrika:e,sendClickDaemon:t}=(0,i.useContext)(n.O);return{sendMetrika:e,sendClickDaemon:t}}},482:(e,t,r)=>{r.d(t,{V:()=>k});var i=r(87363),n=r(83950),o=r(82027),l=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&u(e,r,t[r]);if(c)for(var r of c(t))m.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>a(e,s(t));const f=o.fl.show,g=.5,b=800,v="useOnShow";function k({ref:e,onShow:t,threshold:r=g,actionName:o=f,delay:l=b,observerId:a=v,ready:s=!0,checkIsShowing:c}){var d,m,u,k;const y=(0,i.useRef)(),w=(0,i.useRef)(!0),[P,E]=(0,i.useState)({action:{name:o},blockSize:{height:null!=(m=null==(d=null==e?void 0:e.current)?void 0:d.scrollHeight)?m:0,width:null!=(k=null==(u=null==e?void 0:e.current)?void 0:u.scrollWidth)?k:0},firstScreen:w.current}),C=(0,i.useCallback)((r=>{(null==e?void 0:e.current)&&t(r)}),[t,e]);return(0,i.useEffect)((()=>{const t=null==e?void 0:e.current;if(!t||!s)return;const i=(0,n.V)(a,{threshold:r});return i.observe(t,(e=>{if(!c||e.boundingClientRect.height>=1&&e.boundingClientRect.width>=1)return e.intersectionRatio<r?(w.current=!1,window.clearTimeout(y.current),void(y.current=void 0)):void(y.current||(y.current=window.setTimeout((()=>{const e=p(h({},P),{blockSize:{height:t.scrollHeight,width:t.scrollWidth},firstScreen:w.current});E(e),C(e),i.unobserve(t)}),l)))})),()=>i.unobserve(t)}),[s]),P}},18546:(e,t,r)=>{r.d(t,{Z:()=>i});const i=(()=>{let e=Promise.resolve();return(t,r)=>e=((t,r)=>{return i=function*(){try{yield e}catch(e){console.error(e)}finally{yield fetch(t,r)}},new Promise(((e,t)=>{var r=e=>{try{o(i.next(e))}catch(e){t(e)}},n=e=>{try{o(i.throw(e))}catch(e){t(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,n);o((i=i.apply(void 0,null)).next())}));var i})(t,r)})()},20613:(e,t,r)=>{r.d(t,{S:()=>n});var i=r(41811);const n=()=>{var e;if("undefined"!=typeof window)try{const t=(null==(e=window.appData.location)?void 0:e.entryQuery)||{};if(t[i.Uq])return JSON.parse(decodeURIComponent(t[i.Uq]))}catch(e){}return{}}},72538:(e,t,r)=>{r.d(t,{Z:()=>b});var i=r(93298),n=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&s(e,r,t[r]);return e};r(91844);const d=["height","width"],m=["top","left","right","bottom"],u=[...d,...m],h="game",p=[".game",".play-guard-dialog",".merge-conflicts",".guard"],f=(0,i.M$)("ResizeBlockManager",i.XG.Dev,{background:"#c7aa00"}),g="ResizeBlockManager",b=new class{constructor(){if(this.rootElements=[],this.blocks={},this.resizeBlocks={},this.resizes={},this.resizeListeners={},this.getObserverCallback=(e,t,r)=>(i,n)=>{const o=e.querySelector(t);o&&(n.disconnect(),r(o))},"undefined"==typeof window)return;let e;try{window.parent[g],e=window.parent}catch(t){e=window}if(e[g]){const t=e[g];t.rootElements.includes(window.document.body)||(t.rootElements.push(window.document.body),t.updateBlocks(),t.applyResizeBlocks("new rootElement"))}else e[g]=this,this.rootElements=[window.document.body];return e[g]}addResizeBlockListener(e,t,r=!0){var i;f("addListener",e),this.resizeListeners[e]||(this.resizeListeners[e]=[]);const n=this.resizeListeners[e];if(-1===n.indexOf(t)){if(n.push(t),r){const t=e===h?".game":e;this.resizeBlocks[t]&&this.callbackBlock(e,null!=(i=this.resizeBlocks[t])?i:{})}}else f("try to add existing listener, ",e)}removeResizeBlockListener(e,t){if(f("removeListener",e),!this.resizeListeners[e])return;const r=this.resizeListeners[e],i=r.indexOf(t);-1!==i&&r.splice(i,1)}addResizeBlock(e,t){f("addResize",e,t),this.resizes[e]=t,this.calcResizeBlocks(),this.updateBlocks(),this.applyResizeBlocks("addResizeBlock")}removeResizeBlock(e){f("removeResize",e),this.resizes[e]&&(delete this.resizes[e],this.calcResizeBlocks(),this.updateBlocks(),this.applyResizeBlocks("removeResizeBlock"))}findHTMLElement(e){let t=null;for(const r of this.rootElements)if(t=r.querySelector(e),t)break;if(t)return void(this.blocks[e]=t);f("create MutationObserver for ",e);const r=this.rootElements.map((t=>{const r=new MutationObserver(this.getObserverCallback(t,e,(t=>{this.blocks[e]=t,this.applyResizeBlocks("block found "+e)})));return r.observe(t,{childList:!0}),r}));this.blocks[e]=r}updateBlocks(){for(const e in this.blocks){if(void 0!==this.resizeBlocks[e])continue;const t=this.blocks[e];t instanceof Array?(t.forEach((e=>{e.disconnect()})),delete this.blocks[e]):(this.clearResizeBlock(e,this.blocks[e]),delete this.blocks[e])}for(const e in this.resizeBlocks)void 0===this.blocks[e]&&this.findHTMLElement(e)}calcResizeBlocks(){const e={};for(const t in this.resizes){const r=this.resizes[t];for(const t in r)if(r[t])if(t===h)for(const i of p)this.calcResizeParam(e,r[t],i);else this.calcResizeParam(e,r[t],t)}this.resizeBlocks=e}calcResizeParam(e,t,r){var i,n;let o=e[r];o||(o={},e[r]=o);for(const e of u)o[e]=(null!=(i=o[e])?i:0)+(null!=(n=t[e])?n:0)}applyResizeBlocks(e="unknown"){f(`applyResize (${e})`,this.resizeBlocks,this.blocks);for(const e in this.resizeBlocks){const t=this.blocks[e];if(!t||Array.isArray(t))continue;const r=this.resizeBlocks[e];for(const e of m)(null==r?void 0:r[e])?t.style[e]=r[e]+"px":t.style.removeProperty(e);for(const e of d)(null==r?void 0:r[e])?t.style[e]=`calc(100% + ${r[e]}px)`:t.style.removeProperty(e);this.callbackBlock(e,null!=r?r:{})}}clearResizeBlock(e,t){for(const e of u)t.style.removeProperty(e);this.callbackBlock(e,{})}callbackBlock(e,t){var r;if(".game"===e&&this.callbackBlock(h,t),null==(r=this.resizeListeners[e])?void 0:r.length)for(const r of this.resizeListeners[e])r(e,c({top:0,left:0,right:0,bottom:0,width:0,height:0},t))}removeDefaultClass(e){const t=window.document.body;Array.from(t.classList).forEach((r=>{e.forEach((e=>{r.startsWith(e)&&t.classList.remove(r)}))}))}}},91844:(e,t,r)=>{r.r(t)}}]);
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/_/build/client/game/desktop/playhop/PlaySimilarGames.component.async.8004a14fe78ac964cc29.js.map