"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9359],{37170:(e,t,r)=>{r.d(t,{Z:()=>a});r(87363);const a=(0,r(86976).Z)({resolved:{},chunkName:()=>"PlaySimilarGames.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(6122),r.e(6855)]).then(r.bind(r,96321)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve:()=>96321},{})},79837:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var a=r(87363),s=r.n(a),i=r(53726),n=r(4824),o=r(78740),l=r(4230),c=r(4463),m=r(40184),u=r(15771),p=r(37170),d=r(69977),f=r(11510),g=r(33119),y=r(5825),h=r(22355),b=r(17061),v=r(47484),O=Object.defineProperty,_=Object.defineProperties,P=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,G=(e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const S=({appId:e,inGamePage:t=!1,isBlackFadeout:r})=>{var O;const{isGamesApp:S,isWorldWide:N,lang:D,pfid:I,platform:j,playPageData:C,isSearchCrawler:F=!1,abt:{flags:M}}=(0,a.useContext)(n.Z),[L,Z]=(0,a.useState)(!1),k=(0,i.I0)(),B=(0,f.T)(),T=(0,d.f)(),q=(0,y.C)((e=>e.similarGames||{})),V=(0,y.C)(h.b),H=(0,y.C)((e=>e.isDev)),U=(0,y.C)((e=>e.similarGamesLoading)),x=(0,a.useMemo)((()=>F||t),[F,t]),J=e||(null==(O=C.gameInfo)?void 0:O.appId),R=((e,t,r)=>{const s=(0,c.TH)(),[i]=(0,a.useState)((()=>({queryParams:s.search.slice(1),hash:s.hash}))),{isDistGame:n,abt:{flags:o}}=(0,m.b)(),p=(0,u.tQ)(o),d=(0,u.Fe)(o);return(0,a.useMemo)((()=>(0,l._Z)({appId:t,hasMounted:r,inGamePage:e,isDistGame:n,locationHash:i.hash,locationSearch:i.queryParams,showExceptNavigationFromPlayedGames:p,showOnRedirectFromCatalog:d})),[t,r,e,n,i,p,d])})(F||t,J,T),K=(0,a.useMemo)((()=>!U&&void 0===q[Number(J)]),[q,J,U]);(0,a.useEffect)((()=>{(0,v.EE)((()=>{Z(!0)}),t?3e3:void 0)}),[t]),(0,a.useEffect)((()=>{if(L&&R&&K){let t=o.PS;if(H){const e=parseInt((0,b.V)(o.Vs)||"");e>0&&(t=e)}k((0,g.w1)((e=((e,t)=>{for(var r in t||(t={}))A.call(t,r)&&G(e,r,t[r]);if(E)for(var r of E(t))w.call(t,r)&&G(e,r,t[r]);return e})({adjustGamesCount:l.kr.bind(null,t),appId:Number(J),int:N,lang:D},(0,u.B0)(M)?{pageType:"game"}:{}),_(e,P({pfid:I,platform:j,standalone:S,gamesCount:t})))))}var e}),[J,k,R,M,H,S,N,D,I,j,L,K]);const W=(0,a.useMemo)((()=>V||T&&L&&!U),[T,V,U,L]);return!R||t&&!x?((0,l.ii)(),null):F&&t&&R&&!(e=>{if(null==e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(let t in e)if(e.hasOwnProperty(t))return!1;return!0})(q)?s().createElement("section",{className:"game-page__similar"},s().createElement("span",{className:"similar__title"},B("similar.title-in-game-page")),s().createElement(p.Z,{inGamePage:t,isBlackFadeout:r,similarToAppId:J,visible:!0})):!F&&t?s().createElement("section",{className:"game-page__similar-in-game-page"},s().createElement("span",{className:"similar__title"},B("similar.title-in-game-page")),s().createElement("div",{className:"similar__container"},s().createElement(p.Z,{inGamePage:t,isBlackFadeout:r,similarToAppId:J,visible:W}))):s().createElement(p.Z,{inGamePage:t,isBlackFadeout:r,similarToAppId:J,visible:W})}},4230:(e,t,r)=>{r.d(t,{_Z:()=>E,ii:()=>A,kr:()=>_,xG:()=>O});var a=r(67748),s=r.n(a),i=r(34711),n=r(35090),o=r(48810),l=r(78740),c=Object.defineProperty,m=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&g(e,r,t[r]);if(p)for(var r of p(t))f.call(t,r)&&g(e,r,t[r]);return e},h=(e,t)=>m(e,u(t));const b=e=>{let t;try{t=JSON.parse(e)}catch(e){t=[]}return Array.isArray(t)?t:[]},v=(e,t)=>{const r=Array.isArray(e)?e:b(e);t&&r.push(t),(0,o.Ur)(l.VM,JSON.stringify(r))};function O(e){const t=(0,o.dq)(l.VM);t.wasError||!t.value?(0,o.Ur)(l.VM,JSON.stringify([e])):v(t.value,e)}function _(e,t){return 0===t.length?t:t.length>e?t=t.slice(0,e):(t.length<e&&(t=[...Array(Math.ceil(e/t.length))].reduce(((e,r,a)=>e.concat(t.map(((e,r)=>h(y({},e),{appID:e.appID+a,title:e.title+` (${a*t.length+r+1})`}))))),[]).slice(0,e)),t)}const P=["played","user_profile_recent_games"];function E({appId:e,hasMounted:t,inGamePage:r,isDistGame:a,locationHash:c,locationSearch:m,showExceptNavigationFromPlayedGames:u,showOnRedirectFromCatalog:p}){if(a)return!1;const d=new URLSearchParams(m);if("distrib"===d.get("utm_source")||d.has("clid"))return!1;if(r)return!0;if(!t)return!0;if((0,i.X)())return!1;if(u){const e=s().parse(c);if(e.pos&&"string"==typeof e.pos)try{if(P.includes(JSON.parse(e.pos).listType))return!1}catch(e){}}else if(!p&&(0,n.Oo)())return!1;const f=(0,o.dq)(l.VM);return!(!f.wasError&&f.value&&b(f.value).includes(e))}function A(){"undefined"!=typeof document&&document.body.classList.contains("with-similar-games")&&document.body.classList.remove("with-similar-games")}},22355:(e,t,r)=>{r.d(t,{b:()=>a,y:()=>s});const a=e=>e.ui.isFullscreenActive,s=e=>e.ui.isFullscreenEnabled}}]);
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/_/build/client/game/desktop/playhop/PlaySimilarGamesManager.component.async.c0a62b40cc06ebce1fe9.js.map