"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5157],{3173:(e,t,o)=>{o.d(t,{Z:()=>n});o(87363);const n=(0,o(86976).Z)({resolved:{},chunkName:()=>"BalancePopup.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.all([o.e(6122),o.e(5839),o.e(6729),o.e(6210)]).then(o.bind(o,47061)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>47061},{})},8629:(e,t,o)=>{o.d(t,{Z:()=>n});o(87363);const n=(0,o(86976).Z)({resolved:{},chunkName:()=>"BalanceRefill.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.all([o.e(6122),o.e(5839),o.e(6729),o.e(3999),o.e(2900)]).then(o.bind(o,77967)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>77967},{})},43983:(e,t,o)=>{},56018:(e,t,o)=>{o.d(t,{r:()=>g});var n=o(87363),r=o.n(n),i=o(53644),s=o(9579);const l={none:"link-critical-module__none--U_htd",primary:"link-critical-module__primary--qJboj",secondary:"link-critical-module__secondary--HlVX2",accent:"link-critical-module__accent--inLQs",inverse:"link-critical-module__inverse--zwwgI"};var a=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,m=(e,t,o)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,f=(e,t)=>{for(var o in t||(t={}))d.call(t,o)&&m(e,o,t[o]);if(p)for(var o of p(t))h.call(t,o)&&m(e,o,t[o]);return e},y=(e,t)=>c(e,u(t));const v=(0,n.forwardRef)(((e,t)=>{let o=e,{href:a,children:c,onClick:u,className:m,view:v="none",to:g}=o,w=((e,t)=>{var o={};for(var n in e)d.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&p)for(var n of p(e))t.indexOf(n)<0&&h.call(e,n)&&(o[n]=e[n]);return o})(o,["href","children","onClick","className","view","to"]);const b=void 0===g&&void 0===a,A=(0,n.useCallback)((e=>{b&&e.preventDefault(),null==u||u(e)}),[u,b]);let S=e.rel;"_blank"===e.target&&void 0!==S&&-1===S.indexOf("noopener")&&(S=`${S} noopener`);const E=(({view:e="none"})=>(0,s.y)(l.none,l[e]))({view:v});return void 0!==g?r().createElement(i.rU,y(f({},w),{className:(0,s.y)(E,m),ref:t,rel:S,to:g,onClick:A}),c):void 0!==a?r().createElement("a",y(f({},w),{className:(0,s.y)(E,m),href:a,ref:t,rel:S,onClick:A}),c):r().createElement("span",{className:(0,s.y)(E,m),onClick:A},c)}));v.displayName="Link";const g=(0,n.memo)(v)},38699:(e,t,o)=>{o.d(t,{A:()=>r,u5:()=>n}),o(80813);const n=["az","co.il","com","com.am","com.ge","com.tr","ee","fr","lt","lv","md","tj","tm"],r=["by","com","com.tr","ru"]},44965:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(8629).Z},92059:(e,t,o)=>{o.d(t,{Z:()=>H});var n=o(85383),r=o(73694),i=o(63904),s=o.n(i),l=o(87363),a=o.n(l),c=o(53726),u=o(19146),p=o(4824);const d=o(3173).Z;var h=o(44965),m=o(72340),f=o(89662),y=o(70556),v=o(33119),g=o(46986),w=o(36172),b=o(41225),A=o(83326),S=o(97808),E=o(72461),O=o(98343),P=o(73984),T=o(34967),C=o(65118),D=(o(48810),o(47484)),$=o(41952),x=o(40656),_=o(93298),U=o(15513),L=o(68606),R=o(89592),j=Object.defineProperty,B=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,I=(e,t,o)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,k=(e,t)=>{for(var o in t||(t={}))F.call(t,o)&&I(e,o,t[o]);if(B)for(var o of B(t))N.call(t,o)&&I(e,o,t[o]);return e};const z=(0,_.M$)("Balance",_.XG.Dev),V=s().with("balance"),Z=x.s2/4,M=x.dV;class q extends l.PureComponent{constructor(){super(...arguments),this.popupAnchorRef=a().createRef(),this.balancePending=!1,this.state={canShowSpinner:!0,popupAutoOpen:!0,refillVisible:!1,rewarded:!1},this.handlePageShow=e=>{var t,o,n;let{persisted:r}=e;if(!r&&window.performance){const e=null==(o=(t=window.performance).getEntriesByType)?void 0:o.call(t,"navigation")[0];if(e){if("back_forward"!==e.type)return;r=e.responseEnd-e.requestStart<=50}else{if(2!==(null==(n=window.performance.navigation)?void 0:n.type))return;const e=window.performance.timing;if(!e)return;r=e.responseEnd-e.requestStart<=50}}r&&this.fetchBalance({forceFetch:!0})},this.reportUserActivity=()=>{document.hidden?this.reportUserActivityTimeout=window.setTimeout(this.reportUserActivity,M):(this.props.reportUserActivity(),this.reportUserActivityTimeout=window.setTimeout(this.reportUserActivity,Z))},this.onClick=e=>{var t,o;null==(o=(t=this.props).onClick)||o.call(t,e);const n=(0,L.hY)(L.jF.GUARD);n?(0,L.Vy)(n.children):(this.props.isBalanceFetched||this.props.fetchUserBalance({forceFetch:!1}),(0,T._H)({add:{products:[{id:`open-balance-popup-${this.props.type}`,name:`Open balance ${this.props.type}`,price:0}]}}),"game"!==this.props.type?this.props.setUserBalancePopupVisible(!this.props.popupVisible):S.Z.post({type:"payments",action:"balance-refill",data:{paymentsConfig:{lang:this.context.lang}}}))},this.onShow=()=>{this.clearAutoCloseTimeout(),this.clearShowTimeout(),this.props.popupVisible||this.props.reportUserActivity(),this.setState({popupAutoOpen:this.props.popupVisible}),"catalog"===this.props.type?(0,T.NF)({},R.Ji.PORTAL_CURRENCY_ON_BOARD_CLICK,{source:R.qg.Catalog,version:R.Sq.AllFeatures}):(0,T.NF)({},R.Ji.PORTAL_CURRENCY_ON_BOARD_CLICK,{source:R.qg.Play,version:R.Sq.AllFeatures})},this.onPopupClose=()=>{this.clearAutoCloseTimeout(),this.hide()},this.onPopupRefill=()=>{return e=this,t=function*(){if((0,C.$r)(this.context))try{const{status:e}=yield(0,C.H)(z);"PURCHASED"===e&&this.fetchBalance({forceFetch:!0})}catch(e){}else(()=>{this.setState({refillVisible:!0},(()=>{this.props.setShouldShowShortcutPopup(!1)}))})()},new Promise(((o,n)=>{var r=e=>{try{s(t.next(e))}catch(e){n(e)}},i=e=>{try{s(t.throw(e))}catch(e){n(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,i);s((t=t.apply(e,null)).next())}));var e,t},this.onRefillClose=()=>{this.setState({refillVisible:!1},(()=>{this.props.setShouldShowShortcutPopup(!0)}))}}componentDidMount(){this.reportUserActivity(),window.addEventListener("pageshow",this.handlePageShow),this.fetchBalance({forceFetch:!1})}componentWillUnmount(){this.clearAutoCloseTimeout(),this.clearReportUserActivityTimeout(),this.clearShowTimeout(),window.removeEventListener("pageshow",this.handlePageShow)}componentDidUpdate(e){const t=e.activity,o=this.props.activity;!e.popupVisible&&this.props.popupVisible&&this.onShow(),t.fetching&&!o.fetching&&this.fetchBalance({forceFetch:!0}),e.balance!==this.props.balance&&0!==e.userBalance.fetchedTimestamp&&((0,E.X)({bubbles:10,colors:O.lF,node:this.popupAnchorRef.current}),this.setState({canShowSpinner:!0})),(0,P.v)(t.value,o.value)||(z(`\n            prevDays = ${t.value.days}, prevTotal = ${t.value.total}\n\n            currentDays = ${o.value.days}, currentTotal = ${o.value.total}\n        `),this.tryShow({popupAutoOpen:!0,rewarded:Boolean(o.value.balance_diff)},{isPopupVisible:!0}))}render(){const{popupVisible:e,balanceFetching:t,activity:o,isBalanceFetched:n,getText:i}=this.props,s=(!n||o.fetching||t)&&this.state.canShowSpinner,l=e,c=m.j.NONE;return a().createElement("div",{className:V({type:this.props.type}),"data-nosnippet":"true",title:i("user-popup.balance")},a().createElement("span",{className:V("portal-currency-wrapper",{active:l}),ref:this.popupAnchorRef,onClick:this.onClick},a().createElement(f.Z,{aligned:!0,amount:s?a().createElement(r.y,{className:V("spinner"),size:16,spinning:!0,view:"default"}):this.props.balance,gradient:c,iconPosition:"start",iconSize:y.T.SMALL,showSpinner:!1})),!this.props.disablePopups&&this.props.popupVisible&&a().createElement(d,{anchorRef:this.popupAnchorRef,onClose:this.onPopupClose,onRefill:this.onPopupRefill}),this.state.refillVisible&&a().createElement(h.Z,{passportOrigin:$._4.GamesCatalogPurchases,onClose:this.onRefillClose}))}tryShow(e,t={}){this.clearAutoCloseTimeout(),this.clearShowTimeout(),!0!==e.popupAutoOpen?(0,L.Vm)()?this.showTimeoutId=window.setTimeout((()=>this.tryShow(e)),5e3):document.hidden||(e.rewarded&&this.fetchBalance({forceFetch:!0}),this.setState(k(k({},this.state),e)),this.props.setUserBalancePopupVisible(Boolean(t.isPopupVisible))):this.context.abt.flags}hide(){this.clearShowTimeout(),this.setState({popupAutoOpen:!1}),this.props.setUserBalancePopupVisible(!1)}clearShowTimeout(){this.showTimeoutId&&(window.clearTimeout(this.showTimeoutId),this.showTimeoutId=void 0)}clearAutoCloseTimeout(){this.autoCloseTimeoutId&&(window.clearTimeout(this.autoCloseTimeoutId),this.autoCloseTimeoutId=void 0)}clearReportUserActivityTimeout(){this.reportUserActivityTimeout&&(window.clearTimeout(this.reportUserActivityTimeout),this.reportUserActivityTimeout=void 0)}fetchBalance({forceFetch:e}){const{fetchUserBalance:t,location:o}=this.props;if((0,U.Fg)(this.context,o.pathname)&&!this.props.isBalanceFetched){if(this.balancePending)return;return this.balancePending=!0,void(0,D.UQ)((()=>{this.balancePending=!1,this.props.isBalanceFetched||t({forceFetch:e})}))}t({forceFetch:e})}}q.contextType=p.Z;const H=(0,n.E)((0,c.$j)((function(e){var t;const o=e.user.balance;return{activity:(0,b._)(e),balance:(0,A.n)(e),balanceFetching:o.fetching,getText:e.getText,isBalanceFetched:o.fetchedTimestamp>0,isMiddleLayerShow:Boolean(null==(t=e.middleLayerInGameData)?void 0:t.show),popupVisible:Boolean(o.isBalancePopupVisible),theme:(0,w.FS)(e),userBalance:o}}),(function(e){return(0,u.DE)({fetchUserBalance:g.Zc,reportUserActivity:g.eC,showUserActivity:g.c2,setUserBalancePopupVisible:g.sw,setShouldShowShortcutPopup:v.M4},e)}))(q))},21363:(e,t,o)=>{o.d(t,{ZP:()=>O});var n=o(38096),r=o(56018),i=o(63904),s=o.n(i),l=o(87363),a=o.n(l),c=o(40184),u=o(11510),p=o(82027),d=o(34711),h=(e,t,o)=>new Promise(((n,r)=>{var i=e=>{try{l(o.next(e))}catch(e){r(e)}},s=e=>{try{l(o.throw(e))}catch(e){r(e)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,s);l((o=o.apply(e,t)).next())}));var m=Object.defineProperty,f=Object.defineProperties,y=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,b=(e,t,o)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;const A=s().with("copyright"),S=({className:e="",ContainerTag:t="div",legalInfo:o})=>{const{componentsSettings:r}=(0,n.getDomainConfig)(),i=function(){const e=(0,l.useRef)(null),{isGamesApp:t}=(0,c.b)();return(0,l.useEffect)((()=>{const o=e=>h(this,null,(function*(){try{yield window.navigator.clipboard.writeText(e),e="Copied in clipboard:\n\n"+e}catch(e){console.error(e)}alert(e)})),n=()=>h(this,null,(function*(){var e,n;if(t)null==(n=null==(e=window.yandex)?void 0:e.device)||n.getDeviceInfo((e=>h(this,null,(function*(){let t="failed to get debug info, see console errors";try{const{app_build_number:o,app_platform:n,did:r,lang:i,model:s,os_version:l,uuid:a}=JSON.parse(e);t=[`Device: ${s}`,`Platform: ${n} ${l}`,`App build version: ${o}`,`UUID: ${a}`,`Device ID: ${r}`,`Lang/GeoID: ${i}/${window.clientMetadata.geoId}`].join("\n")}catch(e){console.error(e)}yield o(t)}))));else{const{platform:e,appVersion:t,lang:n,geoId:r}=window.clientMetadata,i=[`Device: ${window.navigator.userAgent}`,`Platform: ${e}`,`App build version: ${t}`,`Clid: ${(0,d.X)()}`,`Lang/GeoID: ${n}/${r}`].join("\n");yield o(i)}})),r=e.current;return null==r||r.addEventListener("dblclick",n),()=>{null==r||r.removeEventListener("dblclick",n)}}),[t]),e}(),{copyrightSymbol:s,copyrightSpacer:u,dates:p}=(e=>{const t=(new Date).getFullYear();return{copyrightSymbol:"©",copyrightSpacer:" ",dates:e&&e!==t?`${e}—${t}`:`${t}`}})(r.copyright.startYear);return a().createElement(t,{className:`${A()} ${e}`},`${s}${u}`,a().createElement("span",{className:A("dates"),ref:i},p),`${u}${u}`,o)},E=(0,l.memo)((({useFullCompanyInfo:e})=>{var t,o;const i=(0,n.getDomainConfig)(),{componentsSettings:{copyright:s},hostname:d}=i,{tld:h}=(0,c.b)(),m=(0,u.T)(),f=(0,p.oS)({customCopyright:null==s?void 0:s.customCopyright,getText:m,useFullCompanyInfo:e,tld:h}),y=(0,l.useMemo)((()=>Array.isArray(f)?f.map(((e,t)=>a().createElement(a().Fragment,{key:t},e,t+1!==f.length&&a().createElement("br",null)))):f),[f]),v=(null==(o=null==(t=s.byTld)?void 0:t[h])?void 0:o.href)||`https://${d}.${h}`;return a().createElement(r.r,{className:A("company-info"),href:v,rel:"noopener",target:"_blank"},y)})),O=e=>{var t=e,{isShortDescription:o=!1}=t,n=((e,t)=>{var o={};for(var n in e)g.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&v)for(var n of v(e))t.indexOf(n)<0&&w.call(e,n)&&(o[n]=e[n]);return o})(t,["isShortDescription"]);const r=(0,l.useMemo)((()=>{const e=!o;return a().createElement(a().Fragment,null,e&&a().createElement("br",null),a().createElement(E,{useFullCompanyInfo:e}))}),[o]);return a().createElement(S,(i=((e,t)=>{for(var o in t||(t={}))g.call(t,o)&&b(e,o,t[o]);if(v)for(var o of v(t))w.call(t,o)&&b(e,o,t[o]);return e})({},n),f(i,y({legalInfo:r}))));var i}},20523:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(38096),r=o(40562),i=o(63904),s=o.n(i),l=o(87363),a=o.n(l),c=o(40184),u=o(11510),p=o(5825),d=o(36172),h=o(69838);const m=s().with("domain-logo"),f=({lazy:e,imageSize:t="m",isShort:o,textSize:i="m",showImage:s=!0,showText:l=!0,textColor:f,type:y})=>{const v=(0,u.T)(),g=(0,p.C)(d.Up),w=(0,c.b)(),{cdnUrl:b,lang:A}=w,{hostname:S,componentsSettings:{domainLogo:E}}=(0,n.getDomainConfig)(),O=Boolean(null==E?void 0:E.useSingleLogo),P=(null==E?void 0:E.textSizeLogo)||i,T=`${b}/games-static/static-data/images/logo/`,C=v("common.service.name");if(o){let t=`${T}short/${S}`;return S===n.EDomain.Yandex?((0,r.K)(A)||(t+="_en"),t+=".png"):t+=".svg",a().createElement("div",{className:m()},a().createElement("img",{alt:C,className:m("image",{short:!0}),crossOrigin:"anonymous",loading:e?"lazy":void 0,src:t,title:C}))}const D=`${S}-text-${f||g?"light":"dark"}.svg`,$=`${T}${S}.svg`,x=`${T}${D}`,_=!s&&O?"single":(null==E?void 0:E.sizeLogo)||t;let U=s||O,L=l&&!O;return y===h.q7.HEADER&&(U=!1,L=!0),a().createElement("div",{className:m()},U&&a().createElement("img",{alt:C,className:m("image",{size:_,singleLogo:O}),crossOrigin:"anonymous",loading:e?"lazy":void 0,src:$,title:C}),L&&a().createElement("img",{alt:C,className:m("text",{size:P}),crossOrigin:"anonymous",id:D,loading:e?"lazy":void 0,src:x,title:C}))}},13378:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(70556).Z},70556:(e,t,o)=>{o.d(t,{T:()=>c,Z:()=>p});var n=o(63904),r=o.n(n),i=o(87363),s=o.n(i),l=o(93569),a=o(40184),c=(e=>(e.LARGE="l",e.MEDIUM="m",e.SMALL="s",e))(c||{});const u=r().with("portal-currency-icon"),p=({size:e})=>{const{moneyCodeSymbol:t}=(0,a.b)();return s().createElement(l.Z,{className:u({size:e,type:t.toLocaleLowerCase()}),size:e,type:"portal-currency"})}},89662:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(63904),r=o.n(n),i=o(87363),s=o.n(i),l=o(40656);const a=e=>{const{format:t,initialValue:o=0,target:n,duration:r=l.WT,onAnimationEnd:a}=e,[c,u]=(0,i.useState)(o),p=(0,i.useRef)(c);return(0,i.useEffect)((()=>{p.current=c}),[c]),(0,i.useEffect)((()=>{const e=p.current,t=n-e,o=performance.now();let i;const s=l=>{const c=l-o,p=Math.min(c/r,1),d=Math.round(e+t*p);u(d),p<1?i=requestAnimationFrame(s):(u(n),null==a||a())};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}),[n,r,a]),s().createElement("span",null,t(c))};var c=o(4824),u=o(13378),p=o(72340);const d=p.Z;var h=o(60592);const m=r().with("portal-currency");class f extends i.PureComponent{getAmount(){const{amount:e}=this.props;return void 0===e?null:"number"!=typeof e?e:(0,h.Z)(e)}renderAmount(){const{amount:e,isAnimated:t}=this.props;return t&&"number"==typeof e?s().createElement(a,{format:h.Z,initialValue:e,target:e}):this.getAmount()}render(){const{aligned:e,gradient:t=p.j.NONE,iconPosition:o="end",iconSize:n,isOldTextStyle:r,showSpinner:i}=this.props;return n?s().createElement("span",{className:m({aligned:e,"spinner-features":i})},"start"===o&&s().createElement(s().Fragment,null,s().createElement(u.Z,{size:n})," "),s().createElement(d,{gradient:t,mix:`${m("value",{"italic-text":!r})}${i?` ${m("spinner")}`:""}`},this.renderAmount()),"end"===o&&s().createElement(s().Fragment,null," ",s().createElement(u.Z,{size:n}))):s().createElement("span",{className:m()},t===p.j.PARTIAL&&this.renderAmount(),s().createElement(d,{gradient:t,mix:`${m("value")}${i?` ${m("spinner")}`:""}`},t===p.j.FULL&&this.renderAmount()," ",this.context.moneyCodeSymbol))}}f.contextType=c.Z;const y=f},72340:(e,t,o)=>{o.d(t,{j:()=>i,Z:()=>s});var n=o(87363),r=o.n(n),i=(e=>(e.FULL="full",e.NONE="none",e.PARTIAL="partial",e))(i||{});const s=({children:e,gradient:t,mix:o=""})=>{const n="text-gradient "+("none"!==t?"text-gradient-fill":"");return r().createElement("span",{className:`${n} ${o}`},e)}},41225:(e,t,o)=>{o.d(t,{_:()=>n});const n=e=>e.user.activity},83326:(e,t,o)=>{o.d(t,{n:()=>y,F:()=>v});var n=Object.defineProperty,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(e,t,o)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,a=(e,t)=>{for(var o in t||(t={}))i.call(t,o)&&l(e,o,t[o]);if(r)for(var o of r(t))s.call(t,o)&&l(e,o,t[o]);return e};var c=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var u="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function p(e,t={}){let o={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let r,i=0;function s(){var t,s;let l=o;const{length:a}=arguments;for(let e=0,t=a;e<t;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=l.o;null===e&&(l.o=e=new WeakMap);const o=e.get(t);void 0===o?(l={s:0,v:void 0,o:null,p:null},e.set(t,l)):l=o}else{let e=l.p;null===e&&(l.p=e=new Map);const o=e.get(t);void 0===o?(l={s:0,v:void 0,o:null,p:null},e.set(t,l)):l=o}}const c=l;let p;if(1===l.s)p=l.v;else if(p=e.apply(null,arguments),i++,n){const e=null!=(s=null==(t=null==r?void 0:r.deref)?void 0:t.call(r))?s:r;null!=e&&n(e,p)&&(p=e,0!==i&&i--),r="object"==typeof p&&null!==p||"function"==typeof p?new u(p):p}return c.s=1,c.v=p,p}return s.clearCache=()=>{o={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function d(e,...t){const o="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n=0,r=0,i={},s=e.pop();"object"==typeof s&&(i=s,s=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const l=a(a({},o),i),{memoize:u,memoizeOptions:d=[],argsMemoize:h=p,argsMemoizeOptions:m=[],devModeChecks:f={}}=l,y=c(d),v=c(m),g=function(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const o=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${o}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),w=u((function(){return n++,s.apply(null,arguments)}),...y),b=h((function(){r++;const e=function(e,t){const o=[],{length:n}=e;for(let r=0;r<n;r++)o.push(e[r].apply(null,t));return o}(g,arguments);return t=w.apply(null,e),t}),...v);return Object.assign(b,{resultFunc:s,memoizedResultFunc:w,dependencies:g,dependencyRecomputations:()=>r,resetDependencyRecomputations:()=>{r=0},lastResult:()=>t,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:u,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var h=d(p),m=Object.assign(((e,t=h)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const o=Object.keys(e);return t(o.map((t=>e[t])),((...e)=>e.reduce(((e,t,n)=>(e[o[n]]=t,e)),{})))}),{withTypes:()=>m});const f=e=>{const{error:t,fetchedTimestamp:o,value:n}=e;return!t&&o&&"number"==typeof n?n:""},y=e=>f(e.user.balance),v=h((e=>e.user.balance),(e=>f(e)))},60592:(e,t,o)=>{function n(e){return e.split("").reverse().join("")}function r(e,t=!1){if(e<1e4&&!t)return String(e);try{return new Intl.NumberFormat("ru-RU").format(e)}catch(e){}return function(e){let t=n(String(e));return t=t.replace(/(\d{1,3})/g," $1"),n(t)}(e)}o.d(t,{Z:()=>r}),o(43983)},65118:(e,t,o)=>{o.d(t,{$r:()=>u,H:()=>l,I4:()=>c,rj:()=>a});var n=(e,t,o)=>new Promise(((n,r)=>{var i=e=>{try{l(o.next(e))}catch(e){r(e)}},s=e=>{try{l(o.throw(e))}catch(e){r(e)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,s);l((o=o.apply(e,t)).next())}));const r=new Error("Billing not supported"),i=new Error("No such method in window.yandex.billing");function s(){return n(this,null,(function*(){var e,t,o,n;if("function"!=typeof(null==(t=null==(e=window.yandex)?void 0:e.billing)?void 0:t.isBillingSupported))return console.error("typeof billing.isBillingSupported is not a function"),!1;try{return null==(n=null==(o=window.yandex)?void 0:o.billing)?void 0:n.isBillingSupported()}catch(e){return console.error("isBillingSupported error",e),!1}}))}function l(e){return n(this,null,(function*(){var t,o,n,l;if(!(yield s()))throw r;if("function"!=typeof(null==(o=null==(t=window.yandex)?void 0:t.billing)?void 0:o.showTopUpDialog))throw console.error("typeof billing.showTopUpDialog is not a function"),i;try{const t=yield null==(l=null==(n=window.yandex)?void 0:n.billing)?void 0:l.showTopUpDialog();return null==e||e("native balance top up dialog closed with result:",t),t}catch(e){throw console.error("billing.showTopUpDialog error",e),e}}))}function a(e,t){return n(this,null,(function*(){var o,n,l,a;if(!(yield s()))throw r;if("function"!=typeof(null==(n=null==(o=window.yandex)?void 0:o.billing)?void 0:n.showBuyDisableAdDialog))throw console.error("typeof billing.showBuyDisableAdDialog is not a function"),i;try{const o=yield null==(a=null==(l=window.yandex)?void 0:l.billing)?void 0:a.showBuyDisableAdDialog(e);return null==t||t("native disable ad dialog closed with result:",o),o}catch(e){throw console.error("billing.showBuyDisableAdDialog error",e),e}}))}function c(e,t){return n(this,arguments,(function*({description:e,image:t,price:o,title:n},l){var a,c,u,p;if(!(yield s()))throw r;if("function"!=typeof(null==(c=null==(a=window.yandex)?void 0:a.billing)?void 0:c.showBuyItemDialog))throw console.error("typeof billing.showBuyItemDialog is not a function"),i;try{const r=yield null==(p=null==(u=window.yandex)?void 0:u.billing)?void 0:p.showBuyItemDialog(o,n,e,t);return null==l||l("native buy item dialog closed with result:",r),r}catch(e){throw console.error("billing.showBuyItemDialog error",e),e}}))}function u(e){return!1}},96952:(e,t,o)=>{o.d(t,{D:()=>n});const n=e=>{if("undefined"==typeof window)throw new Error("Function must be called in browser env");window.requestAnimationFrame((()=>{window.setTimeout(e,0)}))}},27609:(e,t,o)=>{function n(...e){return t=>{for(const o of e)"function"==typeof o?o(t):null!=o&&(o.current=t)}}o.d(t,{l:()=>n})},68606:(e,t,o)=>{o.d(t,{Vm:()=>i,Vy:()=>l,hY:()=>s,jF:()=>r});const n=[".adv-game-loader",".app-drawer_status_full",".app-drawer_status_small",".drawer_visible",".Drawer_visible",".guard-enabled",".LegoPopup2_visible",".merge-conflicts-dialog",".merge-conflicts",".modal-wrapper_visible",".play-shortcut-popup-desktop",".Popup2_visible",".prowo_visible",".scopes-dialog",".scopes",".shortcut-popup-desktop",".user-activity-popup"].join(", "),r={GUARD:".guard-enabled, .play-guard-dialog:not(.play-guard-dialog_hidden)"};function i(){return document.querySelector(n)}function s(e){return"string"==typeof e&&(e=[e]),document.querySelector(e.join(", "))}function l(e){const t=e instanceof HTMLCollection||Array.isArray(e)?Array.from(e):[e];t.forEach((e=>e.classList.remove("shake"))),window.requestAnimationFrame((()=>t.forEach((e=>e.classList.add("shake")))))}},10592:(e,t,o)=>{o.d(t,{I:()=>a,TJ:()=>i,Ur:()=>r,YC:()=>l,mv:()=>n,ob:()=>s,qY:()=>c});var n=(e=>(e.FAILURE="failure",e.SUCCESS="success",e.WAITING="waiting",e))(n||{}),r=(e=>(e[e.OPTIONS=0]="OPTIONS",e[e.PAYMENT=1]="PAYMENT",e))(r||{}),i=(e=>(e.CUSTOM="custom",e.PRODUCT="product",e))(i||{}),s=(e=>(e[e.PSP=5]="PSP",e[e.XSOLLA=2]="XSOLLA",e))(s||{}),l=(e=>(e.PLAY="play",e.PROFILE="profile",e.PURCHASE="purchase",e))(l||{}),a=(e=>(e.BALANCE="balance",e.NOADS="no-ads",e.PLATFORM_PURCHASE="platform-purchase",e.PURCHASE="purchase",e))(a||{}),c=(e=>(e.TRUST="trust",e.XSOLLA="xsolla",e))(c||{})}}]);
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/_/build/client/game/desktop/playhop/5157.a56ca437770754d4d9c5.js.map